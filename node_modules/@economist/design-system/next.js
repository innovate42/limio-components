const withCSS = require('@zeit/next-css');
const withImages = require('next-images');
const withTranspileModules = require('next-transpile-modules');
const webpackConfigDefaults = require('./webpack.config.js');

module.exports = (nextConfig = {}) => {
  const config = Object.assign(webpackConfigDefaults, nextConfig);

  return withCSS(withImages(withTranspileModules(config)));
};
