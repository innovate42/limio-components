import React from 'react';
import { shallow } from 'enzyme';
import AccountLogin from './account-login';

describe('<AccountLogin />', () => {
  it('should have a login link if not currently logged in', () => {
    const component = shallow(
      <AccountLogin loginUrl='authenticate.economist.com' />,
    );
    expect(component.find('NavigationLink').props().href).toEqual(
      'authenticate.economist.com',
    );
  });

  it('should have a logout link if user is logged in and there is a logoutUrl prop', () => {
    const component = shallow(
      <AccountLogin isLoggedIn logoutUrl='logout.economist.com' />,
    );
    expect(component.find('NavigationLink').props().href).toEqual(
      'logout.economist.com',
    );
  });

  describe('user is logged in', () => {
    it('should display the NavigationDisclosure', () => {
      const component = shallow(<AccountLogin isLoggedIn />);
      expect(component.find('AccountDisclosure').props().text).toEqual(
        'My Economist',
      );
    });
  });
});
