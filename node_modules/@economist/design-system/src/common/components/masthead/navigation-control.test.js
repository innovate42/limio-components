import React from 'react';
import { shallow } from 'enzyme';
import NavigationControl from './navigation-control';

describe('<NavigationControl />', () => {
  const title = 'test title';
  const listItems = [
    <li key='1'>list item 1</li>,
    <li key='2'>list item 2</li>,
    <li key='3'>list item 3</li>,
  ];

  describe('Show navigation toggle is false', () => {
    const toggleActive = false;
    const component = shallow(
      <NavigationControl
        title={title}
        type='section'
        menuIsOpen
        showNavToggle={toggleActive}
      >
        {listItems}
      </NavigationControl>,
    );

    it('should not display the list title as a toggle', () => {
      const element = component.find('h2').props().children;
      expect(element).toEqual('test title');
      expect(component.find('a')).toHaveLength(0);
    });

    it('should render the corrct number of list items', () => {
      const element = component.find('ul').props().children;
      const listItemCount = 3;
      expect(element).toHaveLength(listItemCount);
    });
  });

  describe('Show navigation toggle is true', () => {
    const toggleActive = true;
    const component = shallow(
      <NavigationControl
        title={title}
        type='section'
        menuIsOpen
        showNavToggle={toggleActive}
      >
        {listItems}
      </NavigationControl>,
    );

    it('should display the list title as a toggle', () => {
      const element = component.find('a').props().children;
      expect(element).toEqual('test title');
    });

    it('should render the corrct number of list items', () => {
      const element = component.find('ul').props().children;
      const listItemCount = 3;
      expect(element).toHaveLength(listItemCount);
    });
  });
});
