/* eslint-disable no-magic-numbers */
import React from 'react';
import { shallow } from 'enzyme';
import Breadcrumb from './breadcrumb';

describe('<Breadcrumb />', () => {
  const items = [
    { name: 'Path', href: '/', id: '1' },
    { name: 'Path', href: '/', id: '2' },
    { name: 'Path', href: '/', id: '3' },
    { name: 'Current', href: '/', id: '4' },
  ];

  it('should render the correct number of list items', () => {
    const component = shallow(<Breadcrumb items={items} />);
    expect(component.find('li').length).toEqual(4);
  });

  it('should render the correct number of links', () => {
    const component = shallow(<Breadcrumb items={items} />);
    expect(component.find('.ds-breadcrumb__link').length).toEqual(4);
  });

  it('should render the links correctly', () => {
    const component = shallow(<Breadcrumb items={items} />);
    expect(
      component
        .find('.ds-breadcrumb__link')
        .first()
        .props().href,
    ).toEqual('/');
    expect(
      component
        .find('.ds-breadcrumb__link')
        .first()
        .text(),
    ).toEqual('Path');
  });

  it('should render the final item correctly', () => {
    const component = shallow(<Breadcrumb items={items} />);
    expect(
      component.find('.ds-breadcrumb__link--current').props().href,
    ).toEqual('/');
    expect(component.find('.ds-breadcrumb__link--current').text()).toEqual(
      'Current',
    );
  });
});
