import React from 'react';
import { mount } from 'enzyme';
import Card from './index';
import ActionedLink from '../actioned-link/actioned-link';

const url = 'https://www.economist.com/moneytalks/image.png';
describe('<Card />', () => {
  it('should render correctly', () => {
    const component = mount(
      <Card className='custom-class-name'>
        <Card.Image imgUrl={url} />
        <Card.SubHeadline>Weekly on Sunday</Card.SubHeadline>
        <Card.Headline>Money talks</Card.Headline>
        <Card.Description>
          The best of our climate-change analysis
        </Card.Description>
        <Card.Action>
          <ActionedLink href='/' text='Sign up' icon='add' />
        </Card.Action>
      </Card>,
    );

    expect(component.find('.ds-card').hasClass('custom-class-name')).toEqual(
      true,
    );
    expect(component.find('.ds-card-image').prop('src')).toEqual(url);
    expect(component.find('.ds-card-subheadline').text()).toEqual(
      'Weekly on Sunday',
    );
    expect(component.find('.ds-card-headline').text()).toEqual('Money talks');
    expect(component.find('.ds-card-description').text()).toEqual(
      'The best of our climate-change analysis',
    );
    expect(component.find('.ds-card-action').exists()).toEqual(true);
  });

  it('should render without image', () => {
    const component = mount(
      <Card className='custom-class-name'>
        <Card.SubHeadline>Weekly on Sunday</Card.SubHeadline>
        <Card.Headline>Money talks</Card.Headline>
        <Card.Description>
          The best of our climate-change analysis
        </Card.Description>
        <Card.Action>
          <ActionedLink href='/' text='Sign up' icon='add' />
        </Card.Action>
      </Card>,
    );

    expect(component.find('.ds-card').exists()).toEqual(true);
    expect(component.find('.ds-card-image').exists()).toEqual(false);
  });

  it('should render without sub-headline', () => {
    const component = mount(
      <Card className='custom-class-name'>
        <Card.Image imgUrl={url} />
        <Card.Headline>Money talks</Card.Headline>
        <Card.Description>
          The best of our climate-change analysis
        </Card.Description>
        <Card.Action>
          <ActionedLink href='/' text='Sign up' icon='add' />
        </Card.Action>
      </Card>,
    );

    expect(component.find('.ds-card').exists()).toEqual(true);
    expect(component.find('.ds-card-subheadline').exists()).toEqual(false);
  });
  it('should render without headline', () => {
    const component = mount(
      <Card className='custom-class-name'>
        <Card.Image imgUrl={url} />
        <Card.Description>
          The best of our climate-change analysis
        </Card.Description>
        <Card.Action>
          <ActionedLink href='/' text='Sign up' icon='add' />
        </Card.Action>
      </Card>,
    );

    expect(component.find('.ds-card').exists()).toEqual(true);
    expect(component.find('.ds-card-headline').exists()).toEqual(false);
  });

  it('should render without descripion', () => {
    const component = mount(
      <Card className='custom-class-name'>
        <Card.Image imgUrl={url} />
        <Card.SubHeadline>Weekly on Sunday</Card.SubHeadline>
        <Card.Headline>Money talks</Card.Headline>
        <Card.Action>
          <ActionedLink href='/' text='Sign up' icon='add' />
        </Card.Action>
      </Card>,
    );

    expect(component.find('.ds-card').exists()).toEqual(true);
    expect(component.find('.ds-card-description').exists()).toEqual(false);
  });

  it('should render without action', () => {
    const component = mount(
      <Card className='custom-class-name'>
        <Card.Image imgUrl={url} />
        <Card.SubHeadline>Weekly on Sunday</Card.SubHeadline>
        <Card.Headline>Money talks</Card.Headline>
        <Card.Description>
          The best of our climate-change analysis
        </Card.Description>
      </Card>,
    );

    expect(component.find('.ds-card').exists()).toEqual(true);
    expect(component.find('.ds-card-action').exists()).toEqual(false);
  });
});
