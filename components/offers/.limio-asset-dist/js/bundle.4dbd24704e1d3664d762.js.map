{"version":3,"file":"js/bundle.4dbd24704e1d3664d762.js","mappings":"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ACA;AACA;;AAEA;AACA;AACA,yBAAyB;;AAEzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,kBAAkB,kBAAkB;AACpC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,gBAAgB;AAC7C,kBAAkB;AAClB;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,cAAc;AACd;;AAEA;AACA;AACA;AACA;;AAEA,cAAc;AACd;;AAEA;AACA;AACA;AACA;;AAEA,cAAc;AACd;;AAEA;AACA;AACA;AACA;;AAEA,cAAc;AACd;;AAEA;AACA,cAAc;AACd;;AAEA;AACA,cAAc;AACd;;AAEA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB;AAClB;AACA;AACA,kBAAkB;AAClB;AACA;AACA,kBAAkB;AAClB;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;;;;;;;;;;ACzMA;AACA;AACA;AACA;AACA;;AAEA,cAAc,mBAAO,CAAC,4HAAW;AACjC,iBAAiB,mBAAO,CAAC,0HAAU;AACnC,QAAQ,mBAAO,CAAC,sHAAQ;;;AAGxB;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAA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;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,gCAAgC,OAAO;AACvC;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AClCa;AACb,uBAAuB,EAAE;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;;AAEA,kBAAkB,mBAAmB;AACrC;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;;;;;;;;;;AC7Fa;AACb,wBAAwB,mBAAO,CAAC,6IAAmB;AACnD,wBAAwB,mBAAO,CAAC,sJAAsB;AACtD,qBAAqB,mBAAO,CAAC,oIAAgB;;AAE7C;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA,EAAE;AACF;;AAEA,eAAe;AACf,aAAa;;AAEb,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE;AACF;;AAEA,gBAAgB;AAChB;AACA;AACA,EAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH,wDAAwD,2CAA2C;AACnG;AACA;;AAEA,oBAAoB;AACpB;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA,yDAAyD,YAAY;;AAErE;AACA;AACA;AACA,oBAAoB,YAAY;AAChC;;AAEA;AACA;AACA,aAAa,2CAA2C;AACxD;;AAEA,WAAW,IAAI,EAAE,YAAY,EAAE,KAAK;AACpC;;;;;;;;;;;;AC3Xa;;AAEb;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACrBa;AACb,6EAA6E,2CAA2C;;;;;;;;;;;ACDxH;AACA;AACA;AACA;AACA;;AAEA,gBAAgB,2JAA8B;AAC9C,6BAA6B,qKAAwC;AACrE,QAAQ,mBAAO,CAAC,yGAAQ;;AAExB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA,sCAAsC,2BAA2B;AACjE;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B,4CAA4C;AAC5C,sCAAsC;AACtC,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY,QAAQ;AACpB;AACA;AACA,0CAA0C;AAC1C;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY,QAAQ;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA;AACA,oCAAoC,SAAS;AAC7C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA,iBAAiB;AACjB,2BAA2B;AAC3B,aAAa;AACb,mBAAmB;AACnB,iBAAiB;AACjB,uBAAuB;AACvB,qBAAqB;AACrB,kBAAkB;AAClB,mBAAmB;AACnB,qBAAqB;AACrB,0BAA0B;AAC1B,iCAAiC;AACjC,kCAAkC;AAClC,yBAAyB;AACzB,uBAAuB;AACvB,2BAA2B;AAC3B,oBAAoB;AACpB,uBAAuB;AACvB,sBAAsB;AACtB,iBAAiB;AACjB,8BAA8B;;;;;;;;;;;ACla9B;AACA;AACA;AACA;AACA;;AAEA,cAAc,mBAAO,CAAC,+GAAW;AACjC,aAAa,mBAAO,CAAC,6GAAU;AAC/B,gBAAgB,mBAAO,CAAC,uGAAO;;AAE/B;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ,UAAU;AAC7B,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB;AACjB,iBAAiB;AACjB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACvCA;AACA;AACA;AACA;AACA;;AAEA,QAAQ,mBAAO,CAAC,yGAAQ;;AAExB;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,YAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC,kBAAkB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,YAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAkB,SAAS;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;;AAEA;AACA,SAAS,gBAAgB;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS,OAAO;AAChB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA,gBAAgB;AAChB,iBAAiB;;;;;;;;;;;ACtPjB;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,OAAO;AACvC;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,gCAAgC,OAAO;AACvC;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACjCA;AACA;AACA;AACA;AACA;;AAEA,gBAAgB,2JAA8B;AAC9C,cAAc,mBAAO,CAAC,+GAAW;AACjC,aAAa,mBAAO,CAAC,6GAAU;AAC/B;AACA;AACA,QAAQ,mBAAO,CAAC,yGAAQ;;AAExB;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ,QAAQ,QAAQ;AAChB,QAAQ,SAAS;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA,cAAc,iCAAiC;AAC/C;AACA;AACA,2CAA2C;;AAE3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AAC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","sources":["webpack://@limio/component-offers/../../../.yarn/__virtual__/@i42-shared-virtual-70181d7aef/1/packages/shared/src/helpers/cookie.js","webpack://@limio/component-offers/../../../.yarn/__virtual__/@i42-shared-virtual-70181d7aef/1/packages/shared/src/shop/offers/helpers.js","webpack://@limio/component-offers/./components/AddToBasketButton.js","webpack://@limio/component-offers/./components/MobileOffers.js","webpack://@limio/component-offers/./components/MoreInfo.js","webpack://@limio/component-offers/./components/OfferImage.js","webpack://@limio/component-offers/./components/PriceCard.js","webpack://@limio/component-offers/./components/Quantity.js","webpack://@limio/component-offers/./index.css?2edd","webpack://@limio/component-offers/../../../.yarn/cache/cookie-npm-0.4.1-cc5e2ebb42-bd7c47f5d9.zip/node_modules/cookie/index.js","webpack://@limio/component-offers/../../../.yarn/cache/cssfilter-npm-0.0.10-28e06ce546-bc2c52bbb3.zip/node_modules/cssfilter/lib/css.js","webpack://@limio/component-offers/../../../.yarn/cache/cssfilter-npm-0.0.10-28e06ce546-bc2c52bbb3.zip/node_modules/cssfilter/lib/default.js","webpack://@limio/component-offers/../../../.yarn/cache/cssfilter-npm-0.0.10-28e06ce546-bc2c52bbb3.zip/node_modules/cssfilter/lib/index.js","webpack://@limio/component-offers/../../../.yarn/cache/cssfilter-npm-0.0.10-28e06ce546-bc2c52bbb3.zip/node_modules/cssfilter/lib/parser.js","webpack://@limio/component-offers/../../../.yarn/cache/cssfilter-npm-0.0.10-28e06ce546-bc2c52bbb3.zip/node_modules/cssfilter/lib/util.js","webpack://@limio/component-offers/../../../.yarn/cache/decode-uri-component-npm-0.2.0-5bcc0f3597-f3749344ab.zip/node_modules/decode-uri-component/index.js","webpack://@limio/component-offers/../../../.yarn/cache/query-string-npm-6.13.8-77db681d8d-da14ec8011.zip/node_modules/query-string/index.js","webpack://@limio/component-offers/../../../.yarn/cache/split-on-first-npm-1.1.0-e2f3ab5e4e-16ff85b54d.zip/node_modules/split-on-first/index.js","webpack://@limio/component-offers/../../../.yarn/cache/strict-uri-encode-npm-2.0.0-1ec3189376-eaac4cf978.zip/node_modules/strict-uri-encode/index.js","webpack://@limio/component-offers/../../../.yarn/cache/xss-npm-1.0.8-7219f18929-e43deb43a6.zip/node_modules/xss/lib/default.js","webpack://@limio/component-offers/../../../.yarn/cache/xss-npm-1.0.8-7219f18929-e43deb43a6.zip/node_modules/xss/lib/index.js","webpack://@limio/component-offers/../../../.yarn/cache/xss-npm-1.0.8-7219f18929-e43deb43a6.zip/node_modules/xss/lib/parser.js","webpack://@limio/component-offers/../../../.yarn/cache/xss-npm-1.0.8-7219f18929-e43deb43a6.zip/node_modules/xss/lib/util.js","webpack://@limio/component-offers/../../../.yarn/cache/xss-npm-1.0.8-7219f18929-e43deb43a6.zip/node_modules/xss/lib/xss.js","webpack://@limio/component-offers/external commonjs2 \"@limio/design-system\"","webpack://@limio/component-offers/external commonjs2 \"@limio/sdk\"","webpack://@limio/component-offers/external commonjs2 \"ramda\"","webpack://@limio/component-offers/external commonjs2 \"react\"","webpack://@limio/component-offers/webpack/bootstrap","webpack://@limio/component-offers/webpack/runtime/compat get default export","webpack://@limio/component-offers/webpack/runtime/define property getters","webpack://@limio/component-offers/webpack/runtime/hasOwnProperty shorthand","webpack://@limio/component-offers/webpack/runtime/make namespace object","webpack://@limio/component-offers/./index.js"],"sourcesContent":["// @flow\n/* eslint-env browser */\nconst _cookie = require(\"cookie\")\n\n// Used for front-end\nexport const getCookie = (name: string): string => {\n  let cookie = \"\"\n  // Annoyingly without this if, Gatbsy was throwing error \"ReferenceError: document is not defined\" even using document?.cookie\n  if (typeof document !== \"undefined\") {\n    const cookiesString = document.cookie || \"\"\n    cookie = getCookieValue(cookiesString, name) || \"\" // Front-end needs an string to work\n  }\n  return cookie\n}\n\nexport const getCookieValue = (cookiesString: string, name: string): ?string => {\n  if (!cookiesString) {\n    return undefined\n  }\n  const cookies = _cookie.parse(cookiesString)\n\n  if (cookies[name]) {\n    return cookies[name]\n  }\n}\n","// @flow\nimport * as R from \"ramda\"\nimport xss from \"xss\"\nimport type { Offer, OfferMetadata, Schedule } from \"@i42/shared/src/objects/types\"\nimport type { LimioObject } from \"@i42/shared/src/objects/types\"\nimport type { CatalogItem } from \"@i42/shared/src/app-types\"\n\nexport function sortOffers(offersIn: Array<CatalogItem<Offer>>, sorting: { [key: string]: number }): Array<CatalogItem<Offer>> {\n  // clone the array as otherwise the array is sorted in place which is unexpected\n  let offers = [...offersIn]\n\n  if (sorting) {\n    return offers.sort((a, b) => sorting[a.path] - sorting[b.path])\n  }\n\n  if (R.any(offer => offer?.data?.attributes?.sales_channel__limio, offers)) {\n    offers = offers.filter(\n      offer => R.isNil(offer?.data?.attributes?.sales_channel__limio) || R.includes(\"Online\", offer?.data?.attributes?.sales_channel__limio)\n    )\n  }\n\n  return offers.sort((a, b) => {\n    const firstPrice = R.path([\"data\", \"attributes\", \"price__limio\", 0, \"value\"], a) || 0\n    const secondPrice = R.path([\"data\", \"attributes\", \"price__limio\", 0, \"value\"], b) || 0\n\n    return parseFloat(firstPrice) - parseFloat(secondPrice)\n  })\n}\n\n// returns the union of the offers referenced by offersMetadata and offers.\nexport function sortOffers2(offers: Array<CatalogItem<Offer>>, offersMetadata?: Array<OfferMetadata> = []): Array<CatalogItem<Offer>> {\n  // get the offers referenced by the metadata, remove anything where there is no match (ie offers metadata is out of date with offers returned)\n  const offerListFromMetadata = offersMetadata.map(({ path: offer }) => offers.find(({ path }) => path === offer)).filter(Boolean)\n\n  // return the union of the two lists, and remove duplicates.\n  const displayOrder = R.uniq([...offerListFromMetadata, ...offers])\n\n  return displayOrder\n}\n\nexport function filterTrials(offers: Array<Offer>, filterTrial: boolean): Array<Offer> {\n  if (filterTrial) {\n    offers = offers.map(offer => ({ ...offer, hidden: offer?.data?.attributes?.trial__limio }))\n  }\n\n  return offers\n}\n\nexport function groupOffers(\n  offers: Array<Offer> = [],\n  groupLabels: Array<string> = []\n): Array<{ groupId: string, id: string, label: string, offers: Array<Offer> }> {\n  const groups = R.groupBy(R.path([\"data\", \"attributes\", \"group__limio\"]) || \"other\", offers)\n  const groupedOffers = Object.keys(groups).map(groupId => ({\n    groupId,\n    id: groupId,\n    label: groupLabels.find(x => x.id === groupId)?.label || \"Other\",\n    offers: groups[groupId]\n  }))\n\n  return groupedOffers\n}\n\nexport function sanitizeString(string: string): string {\n  const xssOptions = {\n    whitelist: [],\n    stripIgnoreTag: true,\n    stripIgnoreTagBody: [\"script\"]\n  }\n\n  return xss(string, xssOptions)\n}\n\nexport function getDiscountedPrice(discount: { value: string, term: number }, nextSchedule: LimioObject<Schedule>): string {\n  if (discount && nextSchedule) {\n    return (nextSchedule.data.amount * ((100 - discount.value) / 100)).toFixed(2)\n  }\n}\n","import React from \"react\"\nimport { useLimio } from \"@limio/sdk\"\nimport { Quantity } from \"./Quantity\"\n\nexport const AddToBasketButton = ({ item, primaryColor, inBasket, invertCTA, quantity, setQuantity, addToBasket, selection, removeText }) => {\n  const LimioPageContext = useLimio()\n  const attributes = item?.data?.attributes\n\n  if (attributes?.checkout__limio?.checkout_type !== \"purchase-link\") {\n    return (\n      <>\n        {!inBasket ? (\n          <div className={`add-to-basket-group${attributes.allow_multibuy__limio ? \" multibuy\" : \"\"}`}>\n            {attributes.allow_multibuy__limio && (\n              <Quantity className={\"quantity-button\"} primaryColor={primaryColor} invertCTA={invertCTA} quantity={quantity} setQuantity={setQuantity} />\n            )}\n            <button\n              onClick={addToBasket}\n              style={\n                invertCTA ? { color: primaryColor, borderColor: primaryColor } : { color: \"#ffffff\", borderColor: primaryColor, backgroundColor: primaryColor }\n              }\n              className=\"btn btn-lg btn-block btn-outline-light add add-to-basket\"\n            >\n              {attributes.cta_text__limio ? attributes.cta_text__limio : \"Subscribe\"}\n            </button>\n          </div>\n        ) : (\n          <button\n            onClick={() => LimioPageContext.shop.removeFromBasket(item)}\n            style={\n              invertCTA ? { color: \"#ffffff\", borderColor: primaryColor, backgroundColor: primaryColor } : { color: primaryColor, borderColor: primaryColor }\n            }\n            className=\"btn btn-lg btn-block btn-outline-light remove\"\n          >\n            {removeText || \"Remove\"}\n          </button>\n        )}\n      </>\n    )\n  } else {\n    return (\n      <a\n        href={`${LimioPageContext.shop?.shopUrl || \"\"}/checkout?purchase=${item.data.path}`}\n        className=\"btn btn-lg btn-block btn-outline-light add add-to-basket\"\n        style={invertCTA ? { color: primaryColor, borderColor: primaryColor } : { color: \"#ffffff\", borderColor: primaryColor, backgroundColor: primaryColor }}\n      >\n        {attributes.cta_text__limio ? attributes.cta_text__limio : \"Subscribe\"}\n      </a>\n    )\n  }\n}\n","import React, { useState } from \"react\"\n\nexport const MobileOffers = ({ items = [], mobileArrows, mobileArrowsColor, mobileSwipe, useTransform, children, layout, offerOverflowLayout }) => {\n  const [offerIndex, setOfferIndex] = useState(0)\n  const [position, setPosition] = useState({\n    startX: 0,\n    startY: 0,\n    currentX: 0\n  })\n  const threshold = 50\n\n  const offerBack = () => {\n    setOfferIndex(offerIndex !== 0 ? offerIndex - 1 : items.length - 1)\n  }\n\n  const offerForward = () => {\n    setOfferIndex(offerIndex < items.length - 1 ? offerIndex + 1 : 0)\n  }\n\n  const handleNext = () => {\n    if (mobileSwipe) {\n      const new_index = offerIndex === items.length - 1 ? 0 : offerIndex + 1\n\n      setOfferIndex(new_index)\n    }\n  }\n\n  const handleBack = () => {\n    if (mobileSwipe) {\n      const new_index = offerIndex === 0 ? items.length - 1 : offerIndex - 1\n\n      setOfferIndex(new_index)\n    }\n  }\n\n  const touchStart = e => {\n    if (mobileSwipe) {\n      const touchObj = e.touches[0]\n      setPosition({\n        startX: touchObj.clientX,\n        startY: touchObj.clientY,\n        currentX: touchObj.clientX\n      })\n    }\n  }\n\n  const touchMove = e => {\n    if (mobileSwipe) {\n      const touchObj = e.touches[0]\n      setPosition({\n        ...position,\n        currentX: touchObj.clientX\n      })\n    }\n  }\n\n  const touchEnd = () => {\n    if (mobileSwipe) {\n      if (Math.abs(position.startX - position.currentX) > threshold) {\n        position.startX > position.currentX ? handleNext() : handleBack()\n      }\n    }\n  }\n\n  const mobileStyle =\n    mobileSwipe && useTransform\n      ? {\n          transform: `translateX(calc(-${offerIndex * 100}% - ${offerIndex * 3.75}em))`\n        }\n      : {}\n\n  return (\n    <>\n      <div\n        className={`offer-container mobile ${mobileSwipe ? \"swipe\" : \"\"} ${useTransform ? \"\" : \"no-transition\"} card-deck mt-4 text-center ${layout}`}\n        style={{\n          alignItems: offerOverflowLayout,\n          ...mobileStyle\n        }}\n        onTouchStart={touchStart}\n        onTouchMove={touchMove}\n        onTouchEnd={touchEnd}\n      >\n        {children}\n      </div>\n\n      {/* Mobile offer arrows */}\n      {mobileSwipe && items.length > 1 && (\n        <>\n          {mobileArrows && (\n            <div className=\"offer-arrows container\" onTouchStart={touchStart} onTouchMove={touchMove} onTouchEnd={touchEnd}>\n              <svg onClick={offerBack} viewBox=\"0 0 284.935 284.936\">\n                <path\n                  d=\"M110.488,142.468L222.694,30.264c1.902-1.903,2.854-4.093,2.854-6.567c0-2.474-0.951-4.664-2.854-6.563L208.417,2.857   C206.513,0.955,204.324,0,201.856,0c-2.475,0-4.664,0.955-6.567,2.857L62.24,135.9c-1.903,1.903-2.852,4.093-2.852,6.567   c0,2.475,0.949,4.664,2.852,6.567l133.042,133.043c1.906,1.906,4.097,2.857,6.571,2.857c2.471,0,4.66-0.951,6.563-2.857   l14.277-14.267c1.902-1.903,2.851-4.094,2.851-6.57c0-2.472-0.948-4.661-2.851-6.564L110.488,142.468z\"\n                  data-original=\"#000000\"\n                  className=\"active-path\"\n                  data-old_color=\"#000000\"\n                  fill={mobileArrowsColor}\n                />\n              </svg>\n              <svg onClick={offerForward} viewBox=\"0 0 284.935 284.936\">\n                <path\n                  d=\"M222.701,135.9L89.652,2.857C87.748,0.955,85.557,0,83.084,0c-2.474,0-4.664,0.955-6.567,2.857L62.244,17.133   c-1.906,1.903-2.855,4.089-2.855,6.567c0,2.478,0.949,4.664,2.855,6.567l112.204,112.204L62.244,254.677   c-1.906,1.903-2.855,4.093-2.855,6.564c0,2.477,0.949,4.667,2.855,6.57l14.274,14.271c1.903,1.905,4.093,2.854,6.567,2.854   c2.473,0,4.663-0.951,6.567-2.854l133.042-133.044c1.902-1.902,2.854-4.093,2.854-6.567S224.603,137.807,222.701,135.9z\"\n                  data-original=\"#000000\"\n                  className=\"active-path\"\n                  data-old_color=\"#000000\"\n                  fill={mobileArrowsColor}\n                />\n              </svg>\n            </div>\n          )}\n          <div className=\"offer-steps\">\n            {items.map((offer, index) => (\n              <div\n                className={`offer-step${index === offerIndex ? \" current-offer-step\" : \"\"}`}\n                key={JSON.stringify(offer) + index}\n                onClick={() => setOfferIndex(index)}\n              >\n                &#x25CF;\n              </div>\n            ))}\n          </div>\n        </>\n      )}\n    </>\n  )\n}\n\nexport default MobileOffers\n","import React, { useState, useEffect, useRef } from \"react\"\nimport { useLimio } from \"@limio/sdk\"\nimport xss from \"xss\"\nimport { Quantity } from \"./Quantity\"\n\nexport const MoreInfo = props => {\n  const [currentImage, setCurrentImage] = useState(0)\n  const LimioPageContext = useLimio()\n  const { item, attachments, onClose } = props\n  const { data } = item\n  const sanitizeString = string => {\n    const xssOptions = {\n      whitelist: [],\n      stripIgnoreTag: true,\n      stripIgnoreTagBody: [\"script\"]\n    }\n\n    return xss(string, xssOptions)\n  }\n  const ref = useRef()\n\n  useEffect(() => {\n    const escHandler = ({ key }) => {\n      if (key === \"Escape\") {\n        onClose()\n      }\n    }\n\n    window.addEventListener(\"keydown\", escHandler)\n    window.addEventListener(\"keyup\", escHandler)\n    // Remove event listeners on cleanup\n    return () => {\n      window.removeEventListener(\"keydown\", escHandler)\n      window.removeEventListener(\"keyup\", escHandler)\n    }\n  }, [onClose])\n\n  const useOutsideClick = (ref, callback) => {\n    const handleClick = e => {\n      if (ref.current && !ref.current.contains(e.target) && e.target.className !== \"dropdown-item\") {\n        callback()\n      }\n    }\n\n    React.useEffect(() => {\n      document.addEventListener(\"click\", handleClick)\n\n      return () => {\n        document.removeEventListener(\"click\", handleClick)\n      }\n    })\n  }\n\n  useOutsideClick(ref, () => props.onClose())\n\n  return (\n    <div className=\"more-info-outer-container\">\n      <div className=\"more-info-container\" ref={ref}>\n        <div className=\"heading\">\n          <div className=\"buttons\">\n            <div className=\"close-button\" onClick={() => props.onClose()}>\n              +\n            </div>\n          </div>\n        </div>\n        <div className=\"more-info-body\">\n          {attachments && attachments.length > 0 && (\n            <div className=\"more-info-photos\">\n              <div\n                className=\"more-info-photo\"\n                style={{ backgroundImage: `url(\"${LimioPageContext.endpoint ? LimioPageContext.endpoint : \"\"}${encodeURI(attachments[currentImage].url)}\")` }}\n              />\n              <div className={`more-info-photo-thumbnails${attachments.length <= 1 ? \" hidden\" : \"\"}`}>\n                {attachments.map((attachment, index) => (\n                  <div\n                    key={index}\n                    className={`more-info-photo-thumbnail${index === currentImage ? \" current\" : \"\"}`}\n                    style={{\n                      backgroundImage: `url(\"${LimioPageContext.endpoint ? LimioPageContext.endpoint : \"\"}${encodeURI(attachment.url)}\")`\n                    }}\n                    onClick={() => setCurrentImage(index)}\n                  />\n                ))}\n              </div>\n            </div>\n          )}\n          <div className=\"more-info-text\">\n            <h2 className=\"title\">{data.attributes.display_name__limio || item.name}</h2>\n            <div className=\"display-price\" dangerouslySetInnerHTML={{ __html: sanitizeString(data.attributes.display_price__limio) }} />\n            <div className={`add-to-basket-group${data.attributes.allow_multibuy__limio ? \" multibuy\" : \"\"}`}>\n              {data.attributes.allow_multibuy__limio && (\n                <Quantity\n                  className={\"quantity-button\"}\n                  primaryColor={props.primaryColor}\n                  invertCTA={props.invertCTA}\n                  quantity={props.quantity}\n                  setQuantity={props.setQuantity}\n                />\n              )}\n              <button\n                onClick={() => LimioPageContext.shop.addToBasket(item, props.selection, props.quantity, props.redirectUrl)}\n                style={{\n                  color: \"#ffffff\",\n                  borderColor: props.primaryColor,\n                  backgroundColor: props.primaryColor,\n                  minHeight: \"48px\"\n                }}\n                className=\"btn btn-lg btn-block btn-outline-light add add-to-basket\"\n              >\n                {data.attributes.cta_text__limio}\n              </button>\n            </div>\n            <div className=\"detailed-display-price\" dangerouslySetInnerHTML={{ __html: sanitizeString(data.attributes.display_price__limio) }} />\n            <div\n              className=\"description\"\n              dangerouslySetInnerHTML={{\n                __html: sanitizeString(data.attributes.description ? data.attributes.description : data.attributes.offer_features__limio)\n              }}\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","// @flow\nimport React, { useState } from \"react\"\nimport { useLimio } from \"@limio/sdk\"\n\nexport const OfferImage = ({ attachments = [], showAllImages, imageShape, thumbnailPosition }) => {\n  const [currentImage, setCurrentImage] = useState(0)\n  const LimioPageContext = useLimio()\n  const showArrows = showAllImages && attachments.length > 1\n\n  const handleNext = () => {\n    const new_index = currentImage === attachments.length - 1 ? 0 : currentImage + 1\n    setCurrentImage(new_index)\n  }\n\n  const handleBack = () => {\n    const new_index = currentImage === 0 ? attachments.length - 1 : currentImage - 1\n    setCurrentImage(new_index)\n  }\n\n  return (\n    <div className={\"offer-images\"}>\n      <div\n        className={`offer-img ${imageShape}`}\n        style={{\n          backgroundImage: `url(\"${LimioPageContext.endpoint ? LimioPageContext.endpoint : \"\"}${encodeURI(attachments[currentImage].url)}\")`\n        }}\n        alt=\"offerImg\"\n      >\n        {showArrows && (\n          <>\n            <div className=\"offer-img-arrow\" onClick={() => handleBack()}>\n              <div className=\"offer-img-arrow-icon\">\n                <span className=\"chevron left\"></span>\n              </div>\n            </div>\n            <div className=\"offer-img-arrow right\" onClick={() => handleNext()}>\n              <div className=\"offer-img-arrow-icon\">\n                <span className=\"chevron right\"></span>\n              </div>\n            </div>\n          </>\n        )}\n      </div>\n      {showAllImages && (\n        <div className={`image-thumbnails${attachments.length <= 1 ? \" hidden\" : \"\"} ${thumbnailPosition}`}>\n          {attachments.map((attachment, index) => (\n            <div\n              key={index}\n              className={`image-thumbnail${index === currentImage ? \" current\" : \"\"}`}\n              style={{ backgroundImage: `url(\"${LimioPageContext.endpoint ? LimioPageContext.endpoint : \"\"}${encodeURI(attachment.url)}\")` }}\n              onClick={() => setCurrentImage(index)}\n            />\n          ))}\n        </div>\n      )}\n    </div>\n  )\n}\n","// @flow\nimport React, { useState, useEffect } from \"react\"\nimport { useLimio } from \"@limio/sdk\"\nimport { MoreInfo } from \"./MoreInfo\"\nimport { OfferImage } from \"./OfferImage\"\nimport { AddToBasketButton } from \"./AddToBasketButton\"\nimport { sanitizeString } from \"@i42/shared/src/shop/offers/helpers\"\n\ntype Props = {\n  item: any,\n  setUseTransform: boolean => any,\n  redirectUrl: string,\n  inBasket: boolean,\n  textAlign: string,\n  offerWidth: string | number,\n  buttonColor: string,\n  primaryColor: string,\n  useTransform: boolean,\n  productSelectText: string,\n  border: boolean,\n  showAllImages: boolean,\n  shadow: boolean,\n  roundCorners: boolean,\n  offerOverflowLayout: string,\n  imagePosition: string,\n  imageShape: string,\n  thumbnailPosition: string,\n  invertCTA: boolean,\n  showLearnMore: boolean,\n  learnMoreText: string,\n  removeText: string\n}\n\nconst displayProducts = (productString: string) => {\n  const sanitizeString = string => (!string || string.includes(\"</script>\") || string.includes(\"onload=\") || string.includes(\"onerror=\") ? \"\" : string)\n\n  return <div style={{ display: \"flex\", flexDirection: \"column\" }} dangerouslySetInnerHTML={{ __html: sanitizeString(productString) }} />\n}\n\nexport const PriceCard = (props: Props) => {\n  const LimioPageContext = useLimio()\n  const { item, setUseTransform, redirectUrl } = props\n  const itemData = item.data\n\n  const attachments = itemData.attachments ? itemData.attachments.filter(x => x.type.includes(\"image\")) : []\n  const hasAttachments = attachments.length > 0\n\n  const [showMoreInfo, setShowMoreInfo] = useState(false)\n  const [selection, setSelection] = useState({})\n  const [quantity, setQuantity] = useState(1)\n\n  useEffect(() => {\n    setUseTransform(!showMoreInfo)\n  }, [setUseTransform, showMoreInfo])\n\n  const push_to_checkout__limio = itemData.attributes.push_to_checkout__limio\n\n  const inBasket = push_to_checkout__limio === false && props.inBasket\n\n  let priceCardStyle = {\n    textAlign: props.textAlign,\n    maxWidth: `${props.offerWidth * 10}em`,\n    minWidth: `${props.offerWidth * 10}em`\n  }\n\n  if (inBasket) {\n    priceCardStyle.border = `1px solid ${props.buttonColor}`\n  }\n\n  if (props.border) {\n    priceCardStyle.border = `2px solid ${props.primaryColor}`\n  }\n\n  function addToBasket() {\n    LimioPageContext.shop.addToBasket(props.item, selection, quantity, redirectUrl)\n  }\n\n  return (\n    <>\n      {!props.useTransform && showMoreInfo && (\n        <MoreInfo\n          item={item}\n          primaryColor={props.primaryColor}\n          onClose={() => setShowMoreInfo(false)}\n          attachments={attachments}\n          selection={selection}\n          setSelection={setSelection}\n          productSelectText={props.productSelectText}\n          quantity={quantity}\n          setQuantity={setQuantity}\n          redirectUrl={redirectUrl}\n        />\n      )}\n      <div\n        style={priceCardStyle}\n        className={`price-card mb-5${props.shadow ? \" shadow-sm\" : \"\"}${props.showAllImages ? \" show-thumbs\" : \"\"}${\n          props.roundCorners ? \" round-corners\" : \"\"\n        }`}\n      >\n        <div className={`card-body ${props.offerOverflowLayout}`}>\n          {hasAttachments && props.imagePosition === \"top\" && (\n            <OfferImage\n              attachments={attachments}\n              imageShape={props.imageShape}\n              showAllImages={props.showAllImages}\n              thumbnailPosition={props.thumbnailPosition}\n            />\n          )}\n\n          <div className=\"display-name\">\n            <h2 className=\"my-0\">{itemData.attributes.display_name__limio ? itemData.attributes.display_name__limio : props.item.name || itemData.name}</h2>\n            <h3\n              className=\"display-price\"\n              style={{ color: props.primaryColor }}\n              dangerouslySetInnerHTML={{ __html: sanitizeString(itemData.attributes.display_price__limio) }}\n            />\n          </div>\n\n          {(hasAttachments && props.imagePosition) === \"middle\" && (\n            <OfferImage\n              attachments={attachments}\n              imageShape={props.imageShape}\n              showAllImages={props.showAllImages}\n              thumbnailPosition={props.thumbnailPosition}\n            />\n          )}\n\n          <div className=\"products\">{itemData.attributes.offer_features__limio && displayProducts(itemData.attributes.offer_features__limio)}</div>\n          <div className=\"buttons\">\n            <p className=\"detailed-price\" dangerouslySetInnerHTML={{ __html: sanitizeString(itemData.attributes.detailed_display_price__limio) }} />\n\n            {hasAttachments && props.imagePosition === \"bottom\" && (\n              <OfferImage\n                attachments={attachments}\n                imageShape={props.imageShape}\n                showAllImages={props.showAllImages}\n                thumbnailPosition={props.thumbnailPosition}\n              />\n            )}\n\n            <AddToBasketButton\n              addToBasket={addToBasket}\n              inBasket={inBasket}\n              invertCTA={props.invertCTA}\n              item={props.item}\n              primaryColor={props.primaryColor}\n              quantity={quantity}\n              removeText={props.removeText}\n              selection={selection}\n              setQuantity={setQuantity}\n            />\n            {props.showLearnMore && (\n              <button\n                onClick={() => setShowMoreInfo(true)}\n                style={\n                  props.invertCTA\n                    ? { color: \"#ffffff\", borderColor: props.primaryColor, backgroundColor: props.primaryColor }\n                    : { color: props.primaryColor, borderColor: props.primaryColor }\n                }\n                className=\"btn btn-lg btn-block btn-outline-light add\"\n              >\n                {props.learnMoreText}\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n    </>\n  )\n}\n","// @flow\nimport React, { useState } from \"react\"\nimport { Dropdown, DropdownToggle, DropdownMenu, DropdownItem } from \"@limio/design-system\"\n\nexport const Quantity = ({ invertCTA, primaryColor, quantity, setQuantity }) => {\n  const [isOpen, setIsOpen] = useState()\n  const quantities = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n\n  return (\n    <Dropdown isOpen={isOpen} toggle={() => setIsOpen(!isOpen)}>\n      <DropdownToggle\n        caret\n        style={\n          invertCTA\n            ? { color: \"#ffffff\", borderColor: primaryColor, backgroundColor: primaryColor }\n            : { color: primaryColor, borderColor: primaryColor, backgroundColor: \"transparent\" }\n        }\n      >\n        {quantity}\n      </DropdownToggle>\n      <DropdownMenu>\n        <DropdownItem header>Quantity</DropdownItem>\n        {quantities.map(quant => (\n          <DropdownItem key={\"quantity-selector-\" + quant} onClick={() => setQuantity(quant)}>\n            {quant}\n          </DropdownItem>\n        ))}\n      </DropdownMenu>\n    </Dropdown>\n  )\n}\n","// extracted by mini-css-extract-plugin\nexport {};","/*!\n * cookie\n * Copyright(c) 2012-2014 Roman Shtylman\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nexports.parse = parse;\nexports.serialize = serialize;\n\n/**\n * Module variables.\n * @private\n */\n\nvar decode = decodeURIComponent;\nvar encode = encodeURIComponent;\nvar pairSplitRegExp = /; */;\n\n/**\n * RegExp to match field-content in RFC 7230 sec 3.2\n *\n * field-content = field-vchar [ 1*( SP / HTAB ) field-vchar ]\n * field-vchar   = VCHAR / obs-text\n * obs-text      = %x80-FF\n */\n\nvar fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\n\n/**\n * Parse a cookie header.\n *\n * Parse the given cookie header string into an object\n * The object has the various cookies as keys(names) => values\n *\n * @param {string} str\n * @param {object} [options]\n * @return {object}\n * @public\n */\n\nfunction parse(str, options) {\n  if (typeof str !== 'string') {\n    throw new TypeError('argument str must be a string');\n  }\n\n  var obj = {}\n  var opt = options || {};\n  var pairs = str.split(pairSplitRegExp);\n  var dec = opt.decode || decode;\n\n  for (var i = 0; i < pairs.length; i++) {\n    var pair = pairs[i];\n    var eq_idx = pair.indexOf('=');\n\n    // skip things that don't look like key=value\n    if (eq_idx < 0) {\n      continue;\n    }\n\n    var key = pair.substr(0, eq_idx).trim()\n    var val = pair.substr(++eq_idx, pair.length).trim();\n\n    // quoted values\n    if ('\"' == val[0]) {\n      val = val.slice(1, -1);\n    }\n\n    // only assign once\n    if (undefined == obj[key]) {\n      obj[key] = tryDecode(val, dec);\n    }\n  }\n\n  return obj;\n}\n\n/**\n * Serialize data into a cookie header.\n *\n * Serialize the a name value pair into a cookie string suitable for\n * http headers. An optional options object specified cookie parameters.\n *\n * serialize('foo', 'bar', { httpOnly: true })\n *   => \"foo=bar; httpOnly\"\n *\n * @param {string} name\n * @param {string} val\n * @param {object} [options]\n * @return {string}\n * @public\n */\n\nfunction serialize(name, val, options) {\n  var opt = options || {};\n  var enc = opt.encode || encode;\n\n  if (typeof enc !== 'function') {\n    throw new TypeError('option encode is invalid');\n  }\n\n  if (!fieldContentRegExp.test(name)) {\n    throw new TypeError('argument name is invalid');\n  }\n\n  var value = enc(val);\n\n  if (value && !fieldContentRegExp.test(value)) {\n    throw new TypeError('argument val is invalid');\n  }\n\n  var str = name + '=' + value;\n\n  if (null != opt.maxAge) {\n    var maxAge = opt.maxAge - 0;\n\n    if (isNaN(maxAge) || !isFinite(maxAge)) {\n      throw new TypeError('option maxAge is invalid')\n    }\n\n    str += '; Max-Age=' + Math.floor(maxAge);\n  }\n\n  if (opt.domain) {\n    if (!fieldContentRegExp.test(opt.domain)) {\n      throw new TypeError('option domain is invalid');\n    }\n\n    str += '; Domain=' + opt.domain;\n  }\n\n  if (opt.path) {\n    if (!fieldContentRegExp.test(opt.path)) {\n      throw new TypeError('option path is invalid');\n    }\n\n    str += '; Path=' + opt.path;\n  }\n\n  if (opt.expires) {\n    if (typeof opt.expires.toUTCString !== 'function') {\n      throw new TypeError('option expires is invalid');\n    }\n\n    str += '; Expires=' + opt.expires.toUTCString();\n  }\n\n  if (opt.httpOnly) {\n    str += '; HttpOnly';\n  }\n\n  if (opt.secure) {\n    str += '; Secure';\n  }\n\n  if (opt.sameSite) {\n    var sameSite = typeof opt.sameSite === 'string'\n      ? opt.sameSite.toLowerCase() : opt.sameSite;\n\n    switch (sameSite) {\n      case true:\n        str += '; SameSite=Strict';\n        break;\n      case 'lax':\n        str += '; SameSite=Lax';\n        break;\n      case 'strict':\n        str += '; SameSite=Strict';\n        break;\n      case 'none':\n        str += '; SameSite=None';\n        break;\n      default:\n        throw new TypeError('option sameSite is invalid');\n    }\n  }\n\n  return str;\n}\n\n/**\n * Try decoding a string using a decoding function.\n *\n * @param {string} str\n * @param {function} decode\n * @private\n */\n\nfunction tryDecode(str, decode) {\n  try {\n    return decode(str);\n  } catch (e) {\n    return str;\n  }\n}\n","/**\n * cssfilter\n *\n * @author 老雷<leizongmin@gmail.com>\n */\n\nvar DEFAULT = require('./default');\nvar parseStyle = require('./parser');\nvar _ = require('./util');\n\n\n/**\n * 返回值是否为空\n *\n * @param {Object} obj\n * @return {Boolean}\n */\nfunction isNull (obj) {\n  return (obj === undefined || obj === null);\n}\n\n/**\n * 浅拷贝对象\n *\n * @param {Object} obj\n * @return {Object}\n */\nfunction shallowCopyObject (obj) {\n  var ret = {};\n  for (var i in obj) {\n    ret[i] = obj[i];\n  }\n  return ret;\n}\n\n/**\n * 创建CSS过滤器\n *\n * @param {Object} options\n *   - {Object} whiteList\n *   - {Function} onAttr\n *   - {Function} onIgnoreAttr\n *   - {Function} safeAttrValue\n */\nfunction FilterCSS (options) {\n  options = shallowCopyObject(options || {});\n  options.whiteList = options.whiteList || DEFAULT.whiteList;\n  options.onAttr = options.onAttr || DEFAULT.onAttr;\n  options.onIgnoreAttr = options.onIgnoreAttr || DEFAULT.onIgnoreAttr;\n  options.safeAttrValue = options.safeAttrValue || DEFAULT.safeAttrValue;\n  this.options = options;\n}\n\nFilterCSS.prototype.process = function (css) {\n  // 兼容各种奇葩输入\n  css = css || '';\n  css = css.toString();\n  if (!css) return '';\n\n  var me = this;\n  var options = me.options;\n  var whiteList = options.whiteList;\n  var onAttr = options.onAttr;\n  var onIgnoreAttr = options.onIgnoreAttr;\n  var safeAttrValue = options.safeAttrValue;\n\n  var retCSS = parseStyle(css, function (sourcePosition, position, name, value, source) {\n\n    var check = whiteList[name];\n    var isWhite = false;\n    if (check === true) isWhite = check;\n    else if (typeof check === 'function') isWhite = check(value);\n    else if (check instanceof RegExp) isWhite = check.test(value);\n    if (isWhite !== true) isWhite = false;\n\n    // 如果过滤后 value 为空则直接忽略\n    value = safeAttrValue(name, value);\n    if (!value) return;\n\n    var opts = {\n      position: position,\n      sourcePosition: sourcePosition,\n      source: source,\n      isWhite: isWhite\n    };\n\n    if (isWhite) {\n\n      var ret = onAttr(name, value, opts);\n      if (isNull(ret)) {\n        return name + ':' + value;\n      } else {\n        return ret;\n      }\n\n    } else {\n\n      var ret = onIgnoreAttr(name, value, opts);\n      if (!isNull(ret)) {\n        return ret;\n      }\n\n    }\n  });\n\n  return retCSS;\n};\n\n\nmodule.exports = FilterCSS;\n","/**\n * cssfilter\n *\n * @author 老雷<leizongmin@gmail.com>\n */\n\nfunction getDefaultWhiteList () {\n  // 白名单值说明：\n  // true: 允许该属性\n  // Function: function (val) { } 返回true表示允许该属性，其他值均表示不允许\n  // RegExp: regexp.test(val) 返回true表示允许该属性，其他值均表示不允许\n  // 除上面列出的值外均表示不允许\n  var whiteList = {};\n\n  whiteList['align-content'] = false; // default: auto\n  whiteList['align-items'] = false; // default: auto\n  whiteList['align-self'] = false; // default: auto\n  whiteList['alignment-adjust'] = false; // default: auto\n  whiteList['alignment-baseline'] = false; // default: baseline\n  whiteList['all'] = false; // default: depending on individual properties\n  whiteList['anchor-point'] = false; // default: none\n  whiteList['animation'] = false; // default: depending on individual properties\n  whiteList['animation-delay'] = false; // default: 0\n  whiteList['animation-direction'] = false; // default: normal\n  whiteList['animation-duration'] = false; // default: 0\n  whiteList['animation-fill-mode'] = false; // default: none\n  whiteList['animation-iteration-count'] = false; // default: 1\n  whiteList['animation-name'] = false; // default: none\n  whiteList['animation-play-state'] = false; // default: running\n  whiteList['animation-timing-function'] = false; // default: ease\n  whiteList['azimuth'] = false; // default: center\n  whiteList['backface-visibility'] = false; // default: visible\n  whiteList['background'] = true; // default: depending on individual properties\n  whiteList['background-attachment'] = true; // default: scroll\n  whiteList['background-clip'] = true; // default: border-box\n  whiteList['background-color'] = true; // default: transparent\n  whiteList['background-image'] = true; // default: none\n  whiteList['background-origin'] = true; // default: padding-box\n  whiteList['background-position'] = true; // default: 0% 0%\n  whiteList['background-repeat'] = true; // default: repeat\n  whiteList['background-size'] = true; // default: auto\n  whiteList['baseline-shift'] = false; // default: baseline\n  whiteList['binding'] = false; // default: none\n  whiteList['bleed'] = false; // default: 6pt\n  whiteList['bookmark-label'] = false; // default: content()\n  whiteList['bookmark-level'] = false; // default: none\n  whiteList['bookmark-state'] = false; // default: open\n  whiteList['border'] = true; // default: depending on individual properties\n  whiteList['border-bottom'] = true; // default: depending on individual properties\n  whiteList['border-bottom-color'] = true; // default: current color\n  whiteList['border-bottom-left-radius'] = true; // default: 0\n  whiteList['border-bottom-right-radius'] = true; // default: 0\n  whiteList['border-bottom-style'] = true; // default: none\n  whiteList['border-bottom-width'] = true; // default: medium\n  whiteList['border-collapse'] = true; // default: separate\n  whiteList['border-color'] = true; // default: depending on individual properties\n  whiteList['border-image'] = true; // default: none\n  whiteList['border-image-outset'] = true; // default: 0\n  whiteList['border-image-repeat'] = true; // default: stretch\n  whiteList['border-image-slice'] = true; // default: 100%\n  whiteList['border-image-source'] = true; // default: none\n  whiteList['border-image-width'] = true; // default: 1\n  whiteList['border-left'] = true; // default: depending on individual properties\n  whiteList['border-left-color'] = true; // default: current color\n  whiteList['border-left-style'] = true; // default: none\n  whiteList['border-left-width'] = true; // default: medium\n  whiteList['border-radius'] = true; // default: 0\n  whiteList['border-right'] = true; // default: depending on individual properties\n  whiteList['border-right-color'] = true; // default: current color\n  whiteList['border-right-style'] = true; // default: none\n  whiteList['border-right-width'] = true; // default: medium\n  whiteList['border-spacing'] = true; // default: 0\n  whiteList['border-style'] = true; // default: depending on individual properties\n  whiteList['border-top'] = true; // default: depending on individual properties\n  whiteList['border-top-color'] = true; // default: current color\n  whiteList['border-top-left-radius'] = true; // default: 0\n  whiteList['border-top-right-radius'] = true; // default: 0\n  whiteList['border-top-style'] = true; // default: none\n  whiteList['border-top-width'] = true; // default: medium\n  whiteList['border-width'] = true; // default: depending on individual properties\n  whiteList['bottom'] = false; // default: auto\n  whiteList['box-decoration-break'] = true; // default: slice\n  whiteList['box-shadow'] = true; // default: none\n  whiteList['box-sizing'] = true; // default: content-box\n  whiteList['box-snap'] = true; // default: none\n  whiteList['box-suppress'] = true; // default: show\n  whiteList['break-after'] = true; // default: auto\n  whiteList['break-before'] = true; // default: auto\n  whiteList['break-inside'] = true; // default: auto\n  whiteList['caption-side'] = false; // default: top\n  whiteList['chains'] = false; // default: none\n  whiteList['clear'] = true; // default: none\n  whiteList['clip'] = false; // default: auto\n  whiteList['clip-path'] = false; // default: none\n  whiteList['clip-rule'] = false; // default: nonzero\n  whiteList['color'] = true; // default: implementation dependent\n  whiteList['color-interpolation-filters'] = true; // default: auto\n  whiteList['column-count'] = false; // default: auto\n  whiteList['column-fill'] = false; // default: balance\n  whiteList['column-gap'] = false; // default: normal\n  whiteList['column-rule'] = false; // default: depending on individual properties\n  whiteList['column-rule-color'] = false; // default: current color\n  whiteList['column-rule-style'] = false; // default: medium\n  whiteList['column-rule-width'] = false; // default: medium\n  whiteList['column-span'] = false; // default: none\n  whiteList['column-width'] = false; // default: auto\n  whiteList['columns'] = false; // default: depending on individual properties\n  whiteList['contain'] = false; // default: none\n  whiteList['content'] = false; // default: normal\n  whiteList['counter-increment'] = false; // default: none\n  whiteList['counter-reset'] = false; // default: none\n  whiteList['counter-set'] = false; // default: none\n  whiteList['crop'] = false; // default: auto\n  whiteList['cue'] = false; // default: depending on individual properties\n  whiteList['cue-after'] = false; // default: none\n  whiteList['cue-before'] = false; // default: none\n  whiteList['cursor'] = false; // default: auto\n  whiteList['direction'] = false; // default: ltr\n  whiteList['display'] = true; // default: depending on individual properties\n  whiteList['display-inside'] = true; // default: auto\n  whiteList['display-list'] = true; // default: none\n  whiteList['display-outside'] = true; // default: inline-level\n  whiteList['dominant-baseline'] = false; // default: auto\n  whiteList['elevation'] = false; // default: level\n  whiteList['empty-cells'] = false; // default: show\n  whiteList['filter'] = false; // default: none\n  whiteList['flex'] = false; // default: depending on individual properties\n  whiteList['flex-basis'] = false; // default: auto\n  whiteList['flex-direction'] = false; // default: row\n  whiteList['flex-flow'] = false; // default: depending on individual properties\n  whiteList['flex-grow'] = false; // default: 0\n  whiteList['flex-shrink'] = false; // default: 1\n  whiteList['flex-wrap'] = false; // default: nowrap\n  whiteList['float'] = false; // default: none\n  whiteList['float-offset'] = false; // default: 0 0\n  whiteList['flood-color'] = false; // default: black\n  whiteList['flood-opacity'] = false; // default: 1\n  whiteList['flow-from'] = false; // default: none\n  whiteList['flow-into'] = false; // default: none\n  whiteList['font'] = true; // default: depending on individual properties\n  whiteList['font-family'] = true; // default: implementation dependent\n  whiteList['font-feature-settings'] = true; // default: normal\n  whiteList['font-kerning'] = true; // default: auto\n  whiteList['font-language-override'] = true; // default: normal\n  whiteList['font-size'] = true; // default: medium\n  whiteList['font-size-adjust'] = true; // default: none\n  whiteList['font-stretch'] = true; // default: normal\n  whiteList['font-style'] = true; // default: normal\n  whiteList['font-synthesis'] = true; // default: weight style\n  whiteList['font-variant'] = true; // default: normal\n  whiteList['font-variant-alternates'] = true; // default: normal\n  whiteList['font-variant-caps'] = true; // default: normal\n  whiteList['font-variant-east-asian'] = true; // default: normal\n  whiteList['font-variant-ligatures'] = true; // default: normal\n  whiteList['font-variant-numeric'] = true; // default: normal\n  whiteList['font-variant-position'] = true; // default: normal\n  whiteList['font-weight'] = true; // default: normal\n  whiteList['grid'] = false; // default: depending on individual properties\n  whiteList['grid-area'] = false; // default: depending on individual properties\n  whiteList['grid-auto-columns'] = false; // default: auto\n  whiteList['grid-auto-flow'] = false; // default: none\n  whiteList['grid-auto-rows'] = false; // default: auto\n  whiteList['grid-column'] = false; // default: depending on individual properties\n  whiteList['grid-column-end'] = false; // default: auto\n  whiteList['grid-column-start'] = false; // default: auto\n  whiteList['grid-row'] = false; // default: depending on individual properties\n  whiteList['grid-row-end'] = false; // default: auto\n  whiteList['grid-row-start'] = false; // default: auto\n  whiteList['grid-template'] = false; // default: depending on individual properties\n  whiteList['grid-template-areas'] = false; // default: none\n  whiteList['grid-template-columns'] = false; // default: none\n  whiteList['grid-template-rows'] = false; // default: none\n  whiteList['hanging-punctuation'] = false; // default: none\n  whiteList['height'] = true; // default: auto\n  whiteList['hyphens'] = false; // default: manual\n  whiteList['icon'] = false; // default: auto\n  whiteList['image-orientation'] = false; // default: auto\n  whiteList['image-resolution'] = false; // default: normal\n  whiteList['ime-mode'] = false; // default: auto\n  whiteList['initial-letters'] = false; // default: normal\n  whiteList['inline-box-align'] = false; // default: last\n  whiteList['justify-content'] = false; // default: auto\n  whiteList['justify-items'] = false; // default: auto\n  whiteList['justify-self'] = false; // default: auto\n  whiteList['left'] = false; // default: auto\n  whiteList['letter-spacing'] = true; // default: normal\n  whiteList['lighting-color'] = true; // default: white\n  whiteList['line-box-contain'] = false; // default: block inline replaced\n  whiteList['line-break'] = false; // default: auto\n  whiteList['line-grid'] = false; // default: match-parent\n  whiteList['line-height'] = false; // default: normal\n  whiteList['line-snap'] = false; // default: none\n  whiteList['line-stacking'] = false; // default: depending on individual properties\n  whiteList['line-stacking-ruby'] = false; // default: exclude-ruby\n  whiteList['line-stacking-shift'] = false; // default: consider-shifts\n  whiteList['line-stacking-strategy'] = false; // default: inline-line-height\n  whiteList['list-style'] = true; // default: depending on individual properties\n  whiteList['list-style-image'] = true; // default: none\n  whiteList['list-style-position'] = true; // default: outside\n  whiteList['list-style-type'] = true; // default: disc\n  whiteList['margin'] = true; // default: depending on individual properties\n  whiteList['margin-bottom'] = true; // default: 0\n  whiteList['margin-left'] = true; // default: 0\n  whiteList['margin-right'] = true; // default: 0\n  whiteList['margin-top'] = true; // default: 0\n  whiteList['marker-offset'] = false; // default: auto\n  whiteList['marker-side'] = false; // default: list-item\n  whiteList['marks'] = false; // default: none\n  whiteList['mask'] = false; // default: border-box\n  whiteList['mask-box'] = false; // default: see individual properties\n  whiteList['mask-box-outset'] = false; // default: 0\n  whiteList['mask-box-repeat'] = false; // default: stretch\n  whiteList['mask-box-slice'] = false; // default: 0 fill\n  whiteList['mask-box-source'] = false; // default: none\n  whiteList['mask-box-width'] = false; // default: auto\n  whiteList['mask-clip'] = false; // default: border-box\n  whiteList['mask-image'] = false; // default: none\n  whiteList['mask-origin'] = false; // default: border-box\n  whiteList['mask-position'] = false; // default: center\n  whiteList['mask-repeat'] = false; // default: no-repeat\n  whiteList['mask-size'] = false; // default: border-box\n  whiteList['mask-source-type'] = false; // default: auto\n  whiteList['mask-type'] = false; // default: luminance\n  whiteList['max-height'] = true; // default: none\n  whiteList['max-lines'] = false; // default: none\n  whiteList['max-width'] = true; // default: none\n  whiteList['min-height'] = true; // default: 0\n  whiteList['min-width'] = true; // default: 0\n  whiteList['move-to'] = false; // default: normal\n  whiteList['nav-down'] = false; // default: auto\n  whiteList['nav-index'] = false; // default: auto\n  whiteList['nav-left'] = false; // default: auto\n  whiteList['nav-right'] = false; // default: auto\n  whiteList['nav-up'] = false; // default: auto\n  whiteList['object-fit'] = false; // default: fill\n  whiteList['object-position'] = false; // default: 50% 50%\n  whiteList['opacity'] = false; // default: 1\n  whiteList['order'] = false; // default: 0\n  whiteList['orphans'] = false; // default: 2\n  whiteList['outline'] = false; // default: depending on individual properties\n  whiteList['outline-color'] = false; // default: invert\n  whiteList['outline-offset'] = false; // default: 0\n  whiteList['outline-style'] = false; // default: none\n  whiteList['outline-width'] = false; // default: medium\n  whiteList['overflow'] = false; // default: depending on individual properties\n  whiteList['overflow-wrap'] = false; // default: normal\n  whiteList['overflow-x'] = false; // default: visible\n  whiteList['overflow-y'] = false; // default: visible\n  whiteList['padding'] = true; // default: depending on individual properties\n  whiteList['padding-bottom'] = true; // default: 0\n  whiteList['padding-left'] = true; // default: 0\n  whiteList['padding-right'] = true; // default: 0\n  whiteList['padding-top'] = true; // default: 0\n  whiteList['page'] = false; // default: auto\n  whiteList['page-break-after'] = false; // default: auto\n  whiteList['page-break-before'] = false; // default: auto\n  whiteList['page-break-inside'] = false; // default: auto\n  whiteList['page-policy'] = false; // default: start\n  whiteList['pause'] = false; // default: implementation dependent\n  whiteList['pause-after'] = false; // default: implementation dependent\n  whiteList['pause-before'] = false; // default: implementation dependent\n  whiteList['perspective'] = false; // default: none\n  whiteList['perspective-origin'] = false; // default: 50% 50%\n  whiteList['pitch'] = false; // default: medium\n  whiteList['pitch-range'] = false; // default: 50\n  whiteList['play-during'] = false; // default: auto\n  whiteList['position'] = false; // default: static\n  whiteList['presentation-level'] = false; // default: 0\n  whiteList['quotes'] = false; // default: text\n  whiteList['region-fragment'] = false; // default: auto\n  whiteList['resize'] = false; // default: none\n  whiteList['rest'] = false; // default: depending on individual properties\n  whiteList['rest-after'] = false; // default: none\n  whiteList['rest-before'] = false; // default: none\n  whiteList['richness'] = false; // default: 50\n  whiteList['right'] = false; // default: auto\n  whiteList['rotation'] = false; // default: 0\n  whiteList['rotation-point'] = false; // default: 50% 50%\n  whiteList['ruby-align'] = false; // default: auto\n  whiteList['ruby-merge'] = false; // default: separate\n  whiteList['ruby-position'] = false; // default: before\n  whiteList['shape-image-threshold'] = false; // default: 0.0\n  whiteList['shape-outside'] = false; // default: none\n  whiteList['shape-margin'] = false; // default: 0\n  whiteList['size'] = false; // default: auto\n  whiteList['speak'] = false; // default: auto\n  whiteList['speak-as'] = false; // default: normal\n  whiteList['speak-header'] = false; // default: once\n  whiteList['speak-numeral'] = false; // default: continuous\n  whiteList['speak-punctuation'] = false; // default: none\n  whiteList['speech-rate'] = false; // default: medium\n  whiteList['stress'] = false; // default: 50\n  whiteList['string-set'] = false; // default: none\n  whiteList['tab-size'] = false; // default: 8\n  whiteList['table-layout'] = false; // default: auto\n  whiteList['text-align'] = true; // default: start\n  whiteList['text-align-last'] = true; // default: auto\n  whiteList['text-combine-upright'] = true; // default: none\n  whiteList['text-decoration'] = true; // default: none\n  whiteList['text-decoration-color'] = true; // default: currentColor\n  whiteList['text-decoration-line'] = true; // default: none\n  whiteList['text-decoration-skip'] = true; // default: objects\n  whiteList['text-decoration-style'] = true; // default: solid\n  whiteList['text-emphasis'] = true; // default: depending on individual properties\n  whiteList['text-emphasis-color'] = true; // default: currentColor\n  whiteList['text-emphasis-position'] = true; // default: over right\n  whiteList['text-emphasis-style'] = true; // default: none\n  whiteList['text-height'] = true; // default: auto\n  whiteList['text-indent'] = true; // default: 0\n  whiteList['text-justify'] = true; // default: auto\n  whiteList['text-orientation'] = true; // default: mixed\n  whiteList['text-overflow'] = true; // default: clip\n  whiteList['text-shadow'] = true; // default: none\n  whiteList['text-space-collapse'] = true; // default: collapse\n  whiteList['text-transform'] = true; // default: none\n  whiteList['text-underline-position'] = true; // default: auto\n  whiteList['text-wrap'] = true; // default: normal\n  whiteList['top'] = false; // default: auto\n  whiteList['transform'] = false; // default: none\n  whiteList['transform-origin'] = false; // default: 50% 50% 0\n  whiteList['transform-style'] = false; // default: flat\n  whiteList['transition'] = false; // default: depending on individual properties\n  whiteList['transition-delay'] = false; // default: 0s\n  whiteList['transition-duration'] = false; // default: 0s\n  whiteList['transition-property'] = false; // default: all\n  whiteList['transition-timing-function'] = false; // default: ease\n  whiteList['unicode-bidi'] = false; // default: normal\n  whiteList['vertical-align'] = false; // default: baseline\n  whiteList['visibility'] = false; // default: visible\n  whiteList['voice-balance'] = false; // default: center\n  whiteList['voice-duration'] = false; // default: auto\n  whiteList['voice-family'] = false; // default: implementation dependent\n  whiteList['voice-pitch'] = false; // default: medium\n  whiteList['voice-range'] = false; // default: medium\n  whiteList['voice-rate'] = false; // default: normal\n  whiteList['voice-stress'] = false; // default: normal\n  whiteList['voice-volume'] = false; // default: medium\n  whiteList['volume'] = false; // default: medium\n  whiteList['white-space'] = false; // default: normal\n  whiteList['widows'] = false; // default: 2\n  whiteList['width'] = true; // default: auto\n  whiteList['will-change'] = false; // default: auto\n  whiteList['word-break'] = true; // default: normal\n  whiteList['word-spacing'] = true; // default: normal\n  whiteList['word-wrap'] = true; // default: normal\n  whiteList['wrap-flow'] = false; // default: auto\n  whiteList['wrap-through'] = false; // default: wrap\n  whiteList['writing-mode'] = false; // default: horizontal-tb\n  whiteList['z-index'] = false; // default: auto\n\n  return whiteList;\n}\n\n\n/**\n * 匹配到白名单上的一个属性时\n *\n * @param {String} name\n * @param {String} value\n * @param {Object} options\n * @return {String}\n */\nfunction onAttr (name, value, options) {\n  // do nothing\n}\n\n/**\n * 匹配到不在白名单上的一个属性时\n *\n * @param {String} name\n * @param {String} value\n * @param {Object} options\n * @return {String}\n */\nfunction onIgnoreAttr (name, value, options) {\n  // do nothing\n}\n\nvar REGEXP_URL_JAVASCRIPT = /javascript\\s*\\:/img;\n\n/**\n * 过滤属性值\n *\n * @param {String} name\n * @param {String} value\n * @return {String}\n */\nfunction safeAttrValue(name, value) {\n  if (REGEXP_URL_JAVASCRIPT.test(value)) return '';\n  return value;\n}\n\n\nexports.whiteList = getDefaultWhiteList();\nexports.getDefaultWhiteList = getDefaultWhiteList;\nexports.onAttr = onAttr;\nexports.onIgnoreAttr = onIgnoreAttr;\nexports.safeAttrValue = safeAttrValue;\n","/**\n * cssfilter\n *\n * @author 老雷<leizongmin@gmail.com>\n */\n\nvar DEFAULT = require('./default');\nvar FilterCSS = require('./css');\n\n\n/**\n * XSS过滤\n *\n * @param {String} css 要过滤的CSS代码\n * @param {Object} options 选项：whiteList, onAttr, onIgnoreAttr\n * @return {String}\n */\nfunction filterCSS (html, options) {\n  var xss = new FilterCSS(options);\n  return xss.process(html);\n}\n\n\n// 输出\nexports = module.exports = filterCSS;\nexports.FilterCSS = FilterCSS;\nfor (var i in DEFAULT) exports[i] = DEFAULT[i];\n\n// 在浏览器端使用\nif (typeof window !== 'undefined') {\n  window.filterCSS = module.exports;\n}\n","/**\n * cssfilter\n *\n * @author 老雷<leizongmin@gmail.com>\n */\n\nvar _ = require('./util');\n\n\n/**\n * 解析style\n *\n * @param {String} css\n * @param {Function} onAttr 处理属性的函数\n *   参数格式： function (sourcePosition, position, name, value, source)\n * @return {String}\n */\nfunction parseStyle (css, onAttr) {\n  css = _.trimRight(css);\n  if (css[css.length - 1] !== ';') css += ';';\n  var cssLength = css.length;\n  var isParenthesisOpen = false;\n  var lastPos = 0;\n  var i = 0;\n  var retCSS = '';\n\n  function addNewAttr () {\n    // 如果没有正常的闭合圆括号，则直接忽略当前属性\n    if (!isParenthesisOpen) {\n      var source = _.trim(css.slice(lastPos, i));\n      var j = source.indexOf(':');\n      if (j !== -1) {\n        var name = _.trim(source.slice(0, j));\n        var value = _.trim(source.slice(j + 1));\n        // 必须有属性名称\n        if (name) {\n          var ret = onAttr(lastPos, retCSS.length, name, value, source);\n          if (ret) retCSS += ret + '; ';\n        }\n      }\n    }\n    lastPos = i + 1;\n  }\n\n  for (; i < cssLength; i++) {\n    var c = css[i];\n    if (c === '/' && css[i + 1] === '*') {\n      // 备注开始\n      var j = css.indexOf('*/', i + 2);\n      // 如果没有正常的备注结束，则后面的部分全部跳过\n      if (j === -1) break;\n      // 直接将当前位置调到备注结尾，并且初始化状态\n      i = j + 1;\n      lastPos = i + 1;\n      isParenthesisOpen = false;\n    } else if (c === '(') {\n      isParenthesisOpen = true;\n    } else if (c === ')') {\n      isParenthesisOpen = false;\n    } else if (c === ';') {\n      if (isParenthesisOpen) {\n        // 在圆括号里面，忽略\n      } else {\n        addNewAttr();\n      }\n    } else if (c === '\\n') {\n      addNewAttr();\n    }\n  }\n\n  return _.trim(retCSS);\n}\n\nmodule.exports = parseStyle;\n","module.exports = {\n  indexOf: function (arr, item) {\n    var i, j;\n    if (Array.prototype.indexOf) {\n      return arr.indexOf(item);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      if (arr[i] === item) {\n        return i;\n      }\n    }\n    return -1;\n  },\n  forEach: function (arr, fn, scope) {\n    var i, j;\n    if (Array.prototype.forEach) {\n      return arr.forEach(fn, scope);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      fn.call(scope, arr[i], i, arr);\n    }\n  },\n  trim: function (str) {\n    if (String.prototype.trim) {\n      return str.trim();\n    }\n    return str.replace(/(^\\s*)|(\\s*$)/g, '');\n  },\n  trimRight: function (str) {\n    if (String.prototype.trimRight) {\n      return str.trimRight();\n    }\n    return str.replace(/(\\s*$)/g, '');\n  }\n};\n","'use strict';\nvar token = '%[a-f0-9]{2}';\nvar singleMatcher = new RegExp(token, 'gi');\nvar multiMatcher = new RegExp('(' + token + ')+', 'gi');\n\nfunction decodeComponents(components, split) {\n\ttry {\n\t\t// Try to decode the entire string first\n\t\treturn decodeURIComponent(components.join(''));\n\t} catch (err) {\n\t\t// Do nothing\n\t}\n\n\tif (components.length === 1) {\n\t\treturn components;\n\t}\n\n\tsplit = split || 1;\n\n\t// Split the array in 2 parts\n\tvar left = components.slice(0, split);\n\tvar right = components.slice(split);\n\n\treturn Array.prototype.concat.call([], decodeComponents(left), decodeComponents(right));\n}\n\nfunction decode(input) {\n\ttry {\n\t\treturn decodeURIComponent(input);\n\t} catch (err) {\n\t\tvar tokens = input.match(singleMatcher);\n\n\t\tfor (var i = 1; i < tokens.length; i++) {\n\t\t\tinput = decodeComponents(tokens, i).join('');\n\n\t\t\ttokens = input.match(singleMatcher);\n\t\t}\n\n\t\treturn input;\n\t}\n}\n\nfunction customDecodeURIComponent(input) {\n\t// Keep track of all the replacements and prefill the map with the `BOM`\n\tvar replaceMap = {\n\t\t'%FE%FF': '\\uFFFD\\uFFFD',\n\t\t'%FF%FE': '\\uFFFD\\uFFFD'\n\t};\n\n\tvar match = multiMatcher.exec(input);\n\twhile (match) {\n\t\ttry {\n\t\t\t// Decode as big chunks as possible\n\t\t\treplaceMap[match[0]] = decodeURIComponent(match[0]);\n\t\t} catch (err) {\n\t\t\tvar result = decode(match[0]);\n\n\t\t\tif (result !== match[0]) {\n\t\t\t\treplaceMap[match[0]] = result;\n\t\t\t}\n\t\t}\n\n\t\tmatch = multiMatcher.exec(input);\n\t}\n\n\t// Add `%C2` at the end of the map to make sure it does not replace the combinator before everything else\n\treplaceMap['%C2'] = '\\uFFFD';\n\n\tvar entries = Object.keys(replaceMap);\n\n\tfor (var i = 0; i < entries.length; i++) {\n\t\t// Replace all decoded components\n\t\tvar key = entries[i];\n\t\tinput = input.replace(new RegExp(key, 'g'), replaceMap[key]);\n\t}\n\n\treturn input;\n}\n\nmodule.exports = function (encodedURI) {\n\tif (typeof encodedURI !== 'string') {\n\t\tthrow new TypeError('Expected `encodedURI` to be of type `string`, got `' + typeof encodedURI + '`');\n\t}\n\n\ttry {\n\t\tencodedURI = encodedURI.replace(/\\+/g, ' ');\n\n\t\t// Try the built in decoder first\n\t\treturn decodeURIComponent(encodedURI);\n\t} catch (err) {\n\t\t// Fallback to a more advanced decoder\n\t\treturn customDecodeURIComponent(encodedURI);\n\t}\n};\n","'use strict';\nconst strictUriEncode = require('strict-uri-encode');\nconst decodeComponent = require('decode-uri-component');\nconst splitOnFirst = require('split-on-first');\n\nconst isNullOrUndefined = value => value === null || value === undefined;\n\nfunction encoderForArrayFormat(options) {\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tconst index = result.length;\n\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, [encode(key, options), '[', index, ']'].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [\n\t\t\t\t\t...result,\n\t\t\t\t\t[encode(key, options), '[', encode(index, options), ']=', encode(value, options)].join('')\n\t\t\t\t];\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, [encode(key, options), '[]'].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [...result, [encode(key, options), '[]=', encode(value, options)].join('')];\n\t\t\t};\n\n\t\tcase 'comma':\n\t\tcase 'separator':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (value === null || value === undefined || value.length === 0) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (result.length === 0) {\n\t\t\t\t\treturn [[encode(key, options), '=', encode(value, options)].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [[result, encode(value, options)].join(options.arrayFormatSeparator)];\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, encode(key, options)];\n\t\t\t\t}\n\n\t\t\t\treturn [...result, [encode(key, options), '=', encode(value, options)].join('')];\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(options) {\n\tlet result;\n\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tcase 'comma':\n\t\tcase 'separator':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tconst isArray = typeof value === 'string' && value.includes(options.arrayFormatSeparator);\n\t\t\t\tconst isEncodedArray = (typeof value === 'string' && !isArray && decode(value, options).includes(options.arrayFormatSeparator));\n\t\t\t\tvalue = isEncodedArray ? decode(value, options) : value;\n\t\t\t\tconst newValue = isArray || isEncodedArray ? value.split(options.arrayFormatSeparator).map(item => decode(item, options)) : value === null ? value : decode(value, options);\n\t\t\t\taccumulator[key] = newValue;\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction validateArrayFormatSeparator(value) {\n\tif (typeof value !== 'string' || value.length !== 1) {\n\t\tthrow new TypeError('arrayFormatSeparator must be single character string');\n\t}\n}\n\nfunction encode(value, options) {\n\tif (options.encode) {\n\t\treturn options.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction decode(value, options) {\n\tif (options.decode) {\n\t\treturn decodeComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t}\n\n\tif (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input))\n\t\t\t.sort((a, b) => Number(a) - Number(b))\n\t\t\t.map(key => input[key]);\n\t}\n\n\treturn input;\n}\n\nfunction removeHash(input) {\n\tconst hashStart = input.indexOf('#');\n\tif (hashStart !== -1) {\n\t\tinput = input.slice(0, hashStart);\n\t}\n\n\treturn input;\n}\n\nfunction getHash(url) {\n\tlet hash = '';\n\tconst hashStart = url.indexOf('#');\n\tif (hashStart !== -1) {\n\t\thash = url.slice(hashStart);\n\t}\n\n\treturn hash;\n}\n\nfunction extract(input) {\n\tinput = removeHash(input);\n\tconst queryStart = input.indexOf('?');\n\tif (queryStart === -1) {\n\t\treturn '';\n\t}\n\n\treturn input.slice(queryStart + 1);\n}\n\nfunction parseValue(value, options) {\n\tif (options.parseNumbers && !Number.isNaN(Number(value)) && (typeof value === 'string' && value.trim() !== '')) {\n\t\tvalue = Number(value);\n\t} else if (options.parseBooleans && value !== null && (value.toLowerCase() === 'true' || value.toLowerCase() === 'false')) {\n\t\tvalue = value.toLowerCase() === 'true';\n\t}\n\n\treturn value;\n}\n\nfunction parse(query, options) {\n\toptions = Object.assign({\n\t\tdecode: true,\n\t\tsort: true,\n\t\tarrayFormat: 'none',\n\t\tarrayFormatSeparator: ',',\n\t\tparseNumbers: false,\n\t\tparseBooleans: false\n\t}, options);\n\n\tvalidateArrayFormatSeparator(options.arrayFormatSeparator);\n\n\tconst formatter = parserForArrayFormat(options);\n\n\t// Create an object with no prototype\n\tconst ret = Object.create(null);\n\n\tif (typeof query !== 'string') {\n\t\treturn ret;\n\t}\n\n\tquery = query.trim().replace(/^[?#&]/, '');\n\n\tif (!query) {\n\t\treturn ret;\n\t}\n\n\tfor (const param of query.split('&')) {\n\t\tlet [key, value] = splitOnFirst(options.decode ? param.replace(/\\+/g, ' ') : param, '=');\n\n\t\t// Missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tvalue = value === undefined ? null : ['comma', 'separator'].includes(options.arrayFormat) ? value : decode(value, options);\n\t\tformatter(decode(key, options), value, ret);\n\t}\n\n\tfor (const key of Object.keys(ret)) {\n\t\tconst value = ret[key];\n\t\tif (typeof value === 'object' && value !== null) {\n\t\t\tfor (const k of Object.keys(value)) {\n\t\t\t\tvalue[k] = parseValue(value[k], options);\n\t\t\t}\n\t\t} else {\n\t\t\tret[key] = parseValue(value, options);\n\t\t}\n\t}\n\n\tif (options.sort === false) {\n\t\treturn ret;\n\t}\n\n\treturn (options.sort === true ? Object.keys(ret).sort() : Object.keys(ret).sort(options.sort)).reduce((result, key) => {\n\t\tconst value = ret[key];\n\t\tif (Boolean(value) && typeof value === 'object' && !Array.isArray(value)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(value);\n\t\t} else {\n\t\t\tresult[key] = value;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n}\n\nexports.extract = extract;\nexports.parse = parse;\n\nexports.stringify = (object, options) => {\n\tif (!object) {\n\t\treturn '';\n\t}\n\n\toptions = Object.assign({\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none',\n\t\tarrayFormatSeparator: ','\n\t}, options);\n\n\tvalidateArrayFormatSeparator(options.arrayFormatSeparator);\n\n\tconst shouldFilter = key => (\n\t\t(options.skipNull && isNullOrUndefined(object[key])) ||\n\t\t(options.skipEmptyString && object[key] === '')\n\t);\n\n\tconst formatter = encoderForArrayFormat(options);\n\n\tconst objectCopy = {};\n\n\tfor (const key of Object.keys(object)) {\n\t\tif (!shouldFilter(key)) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\t}\n\n\tconst keys = Object.keys(objectCopy);\n\n\tif (options.sort !== false) {\n\t\tkeys.sort(options.sort);\n\t}\n\n\treturn keys.map(key => {\n\t\tconst value = object[key];\n\n\t\tif (value === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (value === null) {\n\t\t\treturn encode(key, options);\n\t\t}\n\n\t\tif (Array.isArray(value)) {\n\t\t\treturn value\n\t\t\t\t.reduce(formatter(key), [])\n\t\t\t\t.join('&');\n\t\t}\n\n\t\treturn encode(key, options) + '=' + encode(value, options);\n\t}).filter(x => x.length > 0).join('&');\n};\n\nexports.parseUrl = (url, options) => {\n\toptions = Object.assign({\n\t\tdecode: true\n\t}, options);\n\n\tconst [url_, hash] = splitOnFirst(url, '#');\n\n\treturn Object.assign(\n\t\t{\n\t\t\turl: url_.split('?')[0] || '',\n\t\t\tquery: parse(extract(url), options)\n\t\t},\n\t\toptions && options.parseFragmentIdentifier && hash ? {fragmentIdentifier: decode(hash, options)} : {}\n\t);\n};\n\nexports.stringifyUrl = (object, options) => {\n\toptions = Object.assign({\n\t\tencode: true,\n\t\tstrict: true\n\t}, options);\n\n\tconst url = removeHash(object.url).split('?')[0] || '';\n\tconst queryFromUrl = exports.extract(object.url);\n\tconst parsedQueryFromUrl = exports.parse(queryFromUrl, {sort: false});\n\n\tconst query = Object.assign(parsedQueryFromUrl, object.query);\n\tlet queryString = exports.stringify(query, options);\n\tif (queryString) {\n\t\tqueryString = `?${queryString}`;\n\t}\n\n\tlet hash = getHash(object.url);\n\tif (object.fragmentIdentifier) {\n\t\thash = `#${encode(object.fragmentIdentifier, options)}`;\n\t}\n\n\treturn `${url}${queryString}${hash}`;\n};\n","'use strict';\n\nmodule.exports = (string, separator) => {\n\tif (!(typeof string === 'string' && typeof separator === 'string')) {\n\t\tthrow new TypeError('Expected the arguments to be of type `string`');\n\t}\n\n\tif (separator === '') {\n\t\treturn [string];\n\t}\n\n\tconst separatorIndex = string.indexOf(separator);\n\n\tif (separatorIndex === -1) {\n\t\treturn [string];\n\t}\n\n\treturn [\n\t\tstring.slice(0, separatorIndex),\n\t\tstring.slice(separatorIndex + separator.length)\n\t];\n};\n","'use strict';\nmodule.exports = str => encodeURIComponent(str).replace(/[!'()*]/g, x => `%${x.charCodeAt(0).toString(16).toUpperCase()}`);\n","/**\n * default settings\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar FilterCSS = require(\"cssfilter\").FilterCSS;\nvar getDefaultCSSWhiteList = require(\"cssfilter\").getDefaultWhiteList;\nvar _ = require(\"./util\");\n\nfunction getDefaultWhiteList() {\n  return {\n    a: [\"target\", \"href\", \"title\"],\n    abbr: [\"title\"],\n    address: [],\n    area: [\"shape\", \"coords\", \"href\", \"alt\"],\n    article: [],\n    aside: [],\n    audio: [\"autoplay\", \"controls\", \"loop\", \"preload\", \"src\"],\n    b: [],\n    bdi: [\"dir\"],\n    bdo: [\"dir\"],\n    big: [],\n    blockquote: [\"cite\"],\n    br: [],\n    caption: [],\n    center: [],\n    cite: [],\n    code: [],\n    col: [\"align\", \"valign\", \"span\", \"width\"],\n    colgroup: [\"align\", \"valign\", \"span\", \"width\"],\n    dd: [],\n    del: [\"datetime\"],\n    details: [\"open\"],\n    div: [],\n    dl: [],\n    dt: [],\n    em: [],\n    font: [\"color\", \"size\", \"face\"],\n    footer: [],\n    h1: [],\n    h2: [],\n    h3: [],\n    h4: [],\n    h5: [],\n    h6: [],\n    header: [],\n    hr: [],\n    i: [],\n    img: [\"src\", \"alt\", \"title\", \"width\", \"height\"],\n    ins: [\"datetime\"],\n    li: [],\n    mark: [],\n    nav: [],\n    ol: [],\n    p: [],\n    pre: [],\n    s: [],\n    section: [],\n    small: [],\n    span: [],\n    sub: [],\n    sup: [],\n    strong: [],\n    table: [\"width\", \"border\", \"align\", \"valign\"],\n    tbody: [\"align\", \"valign\"],\n    td: [\"width\", \"rowspan\", \"colspan\", \"align\", \"valign\"],\n    tfoot: [\"align\", \"valign\"],\n    th: [\"width\", \"rowspan\", \"colspan\", \"align\", \"valign\"],\n    thead: [\"align\", \"valign\"],\n    tr: [\"rowspan\", \"align\", \"valign\"],\n    tt: [],\n    u: [],\n    ul: [],\n    video: [\"autoplay\", \"controls\", \"loop\", \"preload\", \"src\", \"height\", \"width\"]\n  };\n}\n\nvar defaultCSSFilter = new FilterCSS();\n\n/**\n * default onTag function\n *\n * @param {String} tag\n * @param {String} html\n * @param {Object} options\n * @return {String}\n */\nfunction onTag(tag, html, options) {\n  // do nothing\n}\n\n/**\n * default onIgnoreTag function\n *\n * @param {String} tag\n * @param {String} html\n * @param {Object} options\n * @return {String}\n */\nfunction onIgnoreTag(tag, html, options) {\n  // do nothing\n}\n\n/**\n * default onTagAttr function\n *\n * @param {String} tag\n * @param {String} name\n * @param {String} value\n * @return {String}\n */\nfunction onTagAttr(tag, name, value) {\n  // do nothing\n}\n\n/**\n * default onIgnoreTagAttr function\n *\n * @param {String} tag\n * @param {String} name\n * @param {String} value\n * @return {String}\n */\nfunction onIgnoreTagAttr(tag, name, value) {\n  // do nothing\n}\n\n/**\n * default escapeHtml function\n *\n * @param {String} html\n */\nfunction escapeHtml(html) {\n  return html.replace(REGEXP_LT, \"&lt;\").replace(REGEXP_GT, \"&gt;\");\n}\n\n/**\n * default safeAttrValue function\n *\n * @param {String} tag\n * @param {String} name\n * @param {String} value\n * @param {Object} cssFilter\n * @return {String}\n */\nfunction safeAttrValue(tag, name, value, cssFilter) {\n  // unescape attribute value firstly\n  value = friendlyAttrValue(value);\n\n  if (name === \"href\" || name === \"src\") {\n    // filter `href` and `src` attribute\n    // only allow the value that starts with `http://` | `https://` | `mailto:` | `/` | `#`\n    value = _.trim(value);\n    if (value === \"#\") return \"#\";\n    if (\n      !(\n        value.substr(0, 7) === \"http://\" ||\n        value.substr(0, 8) === \"https://\" ||\n        value.substr(0, 7) === \"mailto:\" ||\n        value.substr(0, 4) === \"tel:\" ||\n        value.substr(0, 11) === \"data:image/\" ||\n        value.substr(0, 6) === \"ftp://\" ||\n        value.substr(0, 2) === \"./\" ||\n        value.substr(0, 3) === \"../\" ||\n        value[0] === \"#\" ||\n        value[0] === \"/\"\n      )\n    ) {\n      return \"\";\n    }\n  } else if (name === \"background\") {\n    // filter `background` attribute (maybe no use)\n    // `javascript:`\n    REGEXP_DEFAULT_ON_TAG_ATTR_4.lastIndex = 0;\n    if (REGEXP_DEFAULT_ON_TAG_ATTR_4.test(value)) {\n      return \"\";\n    }\n  } else if (name === \"style\") {\n    // `expression()`\n    REGEXP_DEFAULT_ON_TAG_ATTR_7.lastIndex = 0;\n    if (REGEXP_DEFAULT_ON_TAG_ATTR_7.test(value)) {\n      return \"\";\n    }\n    // `url()`\n    REGEXP_DEFAULT_ON_TAG_ATTR_8.lastIndex = 0;\n    if (REGEXP_DEFAULT_ON_TAG_ATTR_8.test(value)) {\n      REGEXP_DEFAULT_ON_TAG_ATTR_4.lastIndex = 0;\n      if (REGEXP_DEFAULT_ON_TAG_ATTR_4.test(value)) {\n        return \"\";\n      }\n    }\n    if (cssFilter !== false) {\n      cssFilter = cssFilter || defaultCSSFilter;\n      value = cssFilter.process(value);\n    }\n  }\n\n  // escape `<>\"` before returns\n  value = escapeAttrValue(value);\n  return value;\n}\n\n// RegExp list\nvar REGEXP_LT = /</g;\nvar REGEXP_GT = />/g;\nvar REGEXP_QUOTE = /\"/g;\nvar REGEXP_QUOTE_2 = /&quot;/g;\nvar REGEXP_ATTR_VALUE_1 = /&#([a-zA-Z0-9]*);?/gim;\nvar REGEXP_ATTR_VALUE_COLON = /&colon;?/gim;\nvar REGEXP_ATTR_VALUE_NEWLINE = /&newline;?/gim;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_3 = /\\/\\*|\\*\\//gm;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_4 = /((j\\s*a\\s*v\\s*a|v\\s*b|l\\s*i\\s*v\\s*e)\\s*s\\s*c\\s*r\\s*i\\s*p\\s*t\\s*|m\\s*o\\s*c\\s*h\\s*a)\\:/gi;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_5 = /^[\\s\"'`]*(d\\s*a\\s*t\\s*a\\s*)\\:/gi;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_6 = /^[\\s\"'`]*(d\\s*a\\s*t\\s*a\\s*)\\:\\s*image\\//gi;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_7 = /e\\s*x\\s*p\\s*r\\s*e\\s*s\\s*s\\s*i\\s*o\\s*n\\s*\\(.*/gi;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_8 = /u\\s*r\\s*l\\s*\\(.*/gi;\n\n/**\n * escape doube quote\n *\n * @param {String} str\n * @return {String} str\n */\nfunction escapeQuote(str) {\n  return str.replace(REGEXP_QUOTE, \"&quot;\");\n}\n\n/**\n * unescape double quote\n *\n * @param {String} str\n * @return {String} str\n */\nfunction unescapeQuote(str) {\n  return str.replace(REGEXP_QUOTE_2, '\"');\n}\n\n/**\n * escape html entities\n *\n * @param {String} str\n * @return {String}\n */\nfunction escapeHtmlEntities(str) {\n  return str.replace(REGEXP_ATTR_VALUE_1, function replaceUnicode(str, code) {\n    return code[0] === \"x\" || code[0] === \"X\"\n      ? String.fromCharCode(parseInt(code.substr(1), 16))\n      : String.fromCharCode(parseInt(code, 10));\n  });\n}\n\n/**\n * escape html5 new danger entities\n *\n * @param {String} str\n * @return {String}\n */\nfunction escapeDangerHtml5Entities(str) {\n  return str\n    .replace(REGEXP_ATTR_VALUE_COLON, \":\")\n    .replace(REGEXP_ATTR_VALUE_NEWLINE, \" \");\n}\n\n/**\n * clear nonprintable characters\n *\n * @param {String} str\n * @return {String}\n */\nfunction clearNonPrintableCharacter(str) {\n  var str2 = \"\";\n  for (var i = 0, len = str.length; i < len; i++) {\n    str2 += str.charCodeAt(i) < 32 ? \" \" : str.charAt(i);\n  }\n  return _.trim(str2);\n}\n\n/**\n * get friendly attribute value\n *\n * @param {String} str\n * @return {String}\n */\nfunction friendlyAttrValue(str) {\n  str = unescapeQuote(str);\n  str = escapeHtmlEntities(str);\n  str = escapeDangerHtml5Entities(str);\n  str = clearNonPrintableCharacter(str);\n  return str;\n}\n\n/**\n * unescape attribute value\n *\n * @param {String} str\n * @return {String}\n */\nfunction escapeAttrValue(str) {\n  str = escapeQuote(str);\n  str = escapeHtml(str);\n  return str;\n}\n\n/**\n * `onIgnoreTag` function for removing all the tags that are not in whitelist\n */\nfunction onIgnoreTagStripAll() {\n  return \"\";\n}\n\n/**\n * remove tag body\n * specify a `tags` list, if the tag is not in the `tags` list then process by the specify function (optional)\n *\n * @param {array} tags\n * @param {function} next\n */\nfunction StripTagBody(tags, next) {\n  if (typeof next !== \"function\") {\n    next = function() {};\n  }\n\n  var isRemoveAllTag = !Array.isArray(tags);\n  function isRemoveTag(tag) {\n    if (isRemoveAllTag) return true;\n    return _.indexOf(tags, tag) !== -1;\n  }\n\n  var removeList = [];\n  var posStart = false;\n\n  return {\n    onIgnoreTag: function(tag, html, options) {\n      if (isRemoveTag(tag)) {\n        if (options.isClosing) {\n          var ret = \"[/removed]\";\n          var end = options.position + ret.length;\n          removeList.push([\n            posStart !== false ? posStart : options.position,\n            end\n          ]);\n          posStart = false;\n          return ret;\n        } else {\n          if (!posStart) {\n            posStart = options.position;\n          }\n          return \"[removed]\";\n        }\n      } else {\n        return next(tag, html, options);\n      }\n    },\n    remove: function(html) {\n      var rethtml = \"\";\n      var lastPos = 0;\n      _.forEach(removeList, function(pos) {\n        rethtml += html.slice(lastPos, pos[0]);\n        lastPos = pos[1];\n      });\n      rethtml += html.slice(lastPos);\n      return rethtml;\n    }\n  };\n}\n\n/**\n * remove html comments\n *\n * @param {String} html\n * @return {String}\n */\nfunction stripCommentTag(html) {\n  return html.replace(STRIP_COMMENT_TAG_REGEXP, \"\");\n}\nvar STRIP_COMMENT_TAG_REGEXP = /<!--[\\s\\S]*?-->/g;\n\n/**\n * remove invisible characters\n *\n * @param {String} html\n * @return {String}\n */\nfunction stripBlankChar(html) {\n  var chars = html.split(\"\");\n  chars = chars.filter(function(char) {\n    var c = char.charCodeAt(0);\n    if (c === 127) return false;\n    if (c <= 31) {\n      if (c === 10 || c === 13) return true;\n      return false;\n    }\n    return true;\n  });\n  return chars.join(\"\");\n}\n\nexports.whiteList = getDefaultWhiteList();\nexports.getDefaultWhiteList = getDefaultWhiteList;\nexports.onTag = onTag;\nexports.onIgnoreTag = onIgnoreTag;\nexports.onTagAttr = onTagAttr;\nexports.onIgnoreTagAttr = onIgnoreTagAttr;\nexports.safeAttrValue = safeAttrValue;\nexports.escapeHtml = escapeHtml;\nexports.escapeQuote = escapeQuote;\nexports.unescapeQuote = unescapeQuote;\nexports.escapeHtmlEntities = escapeHtmlEntities;\nexports.escapeDangerHtml5Entities = escapeDangerHtml5Entities;\nexports.clearNonPrintableCharacter = clearNonPrintableCharacter;\nexports.friendlyAttrValue = friendlyAttrValue;\nexports.escapeAttrValue = escapeAttrValue;\nexports.onIgnoreTagStripAll = onIgnoreTagStripAll;\nexports.StripTagBody = StripTagBody;\nexports.stripCommentTag = stripCommentTag;\nexports.stripBlankChar = stripBlankChar;\nexports.cssFilter = defaultCSSFilter;\nexports.getDefaultCSSWhiteList = getDefaultCSSWhiteList;\n","/**\n * xss\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar DEFAULT = require(\"./default\");\nvar parser = require(\"./parser\");\nvar FilterXSS = require(\"./xss\");\n\n/**\n * filter xss function\n *\n * @param {String} html\n * @param {Object} options { whiteList, onTag, onTagAttr, onIgnoreTag, onIgnoreTagAttr, safeAttrValue, escapeHtml }\n * @return {String}\n */\nfunction filterXSS(html, options) {\n  var xss = new FilterXSS(options);\n  return xss.process(html);\n}\n\nexports = module.exports = filterXSS;\nexports.filterXSS = filterXSS;\nexports.FilterXSS = FilterXSS;\nfor (var i in DEFAULT) exports[i] = DEFAULT[i];\nfor (var i in parser) exports[i] = parser[i];\n\n// using `xss` on the browser, output `filterXSS` to the globals\nif (typeof window !== \"undefined\") {\n  window.filterXSS = module.exports;\n}\n\n// using `xss` on the WebWorker, output `filterXSS` to the globals\nfunction isWorkerEnv() {\n  return typeof self !== 'undefined' && typeof DedicatedWorkerGlobalScope !== 'undefined' && self instanceof DedicatedWorkerGlobalScope;\n}\nif (isWorkerEnv()) {\n  self.filterXSS = module.exports;\n}\n","/**\n * Simple HTML Parser\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar _ = require(\"./util\");\n\n/**\n * get tag name\n *\n * @param {String} html e.g. '<a hef=\"#\">'\n * @return {String}\n */\nfunction getTagName(html) {\n  var i = _.spaceIndex(html);\n  if (i === -1) {\n    var tagName = html.slice(1, -1);\n  } else {\n    var tagName = html.slice(1, i + 1);\n  }\n  tagName = _.trim(tagName).toLowerCase();\n  if (tagName.slice(0, 1) === \"/\") tagName = tagName.slice(1);\n  if (tagName.slice(-1) === \"/\") tagName = tagName.slice(0, -1);\n  return tagName;\n}\n\n/**\n * is close tag?\n *\n * @param {String} html 如：'<a hef=\"#\">'\n * @return {Boolean}\n */\nfunction isClosing(html) {\n  return html.slice(0, 2) === \"</\";\n}\n\n/**\n * parse input html and returns processed html\n *\n * @param {String} html\n * @param {Function} onTag e.g. function (sourcePosition, position, tag, html, isClosing)\n * @param {Function} escapeHtml\n * @return {String}\n */\nfunction parseTag(html, onTag, escapeHtml) {\n  \"use strict\";\n\n  var rethtml = \"\";\n  var lastPos = 0;\n  var tagStart = false;\n  var quoteStart = false;\n  var currentPos = 0;\n  var len = html.length;\n  var currentTagName = \"\";\n  var currentHtml = \"\";\n\n  chariterator: for (currentPos = 0; currentPos < len; currentPos++) {\n    var c = html.charAt(currentPos);\n    if (tagStart === false) {\n      if (c === \"<\") {\n        tagStart = currentPos;\n        continue;\n      }\n    } else {\n      if (quoteStart === false) {\n        if (c === \"<\") {\n          rethtml += escapeHtml(html.slice(lastPos, currentPos));\n          tagStart = currentPos;\n          lastPos = currentPos;\n          continue;\n        }\n        if (c === \">\") {\n          rethtml += escapeHtml(html.slice(lastPos, tagStart));\n          currentHtml = html.slice(tagStart, currentPos + 1);\n          currentTagName = getTagName(currentHtml);\n          rethtml += onTag(\n            tagStart,\n            rethtml.length,\n            currentTagName,\n            currentHtml,\n            isClosing(currentHtml)\n          );\n          lastPos = currentPos + 1;\n          tagStart = false;\n          continue;\n        }\n        if ((c === '\"' || c === \"'\")) {\n          var i = 1;\n          var ic = html.charAt(currentPos - i);\n\n          while ((ic === \" \") || (ic === \"=\")) {\n            if (ic === \"=\") {\n              quoteStart = c;\n              continue chariterator;\n            }\n            ic = html.charAt(currentPos - ++i);\n          }\n        }\n      } else {\n        if (c === quoteStart) {\n          quoteStart = false;\n          continue;\n        }\n      }\n    }\n  }\n  if (lastPos < html.length) {\n    rethtml += escapeHtml(html.substr(lastPos));\n  }\n\n  return rethtml;\n}\n\nvar REGEXP_ILLEGAL_ATTR_NAME = /[^a-zA-Z0-9_:\\.\\-]/gim;\n\n/**\n * parse input attributes and returns processed attributes\n *\n * @param {String} html e.g. `href=\"#\" target=\"_blank\"`\n * @param {Function} onAttr e.g. `function (name, value)`\n * @return {String}\n */\nfunction parseAttr(html, onAttr) {\n  \"use strict\";\n\n  var lastPos = 0;\n  var retAttrs = [];\n  var tmpName = false;\n  var len = html.length;\n\n  function addAttr(name, value) {\n    name = _.trim(name);\n    name = name.replace(REGEXP_ILLEGAL_ATTR_NAME, \"\").toLowerCase();\n    if (name.length < 1) return;\n    var ret = onAttr(name, value || \"\");\n    if (ret) retAttrs.push(ret);\n  }\n\n  // 逐个分析字符\n  for (var i = 0; i < len; i++) {\n    var c = html.charAt(i);\n    var v, j;\n    if (tmpName === false && c === \"=\") {\n      tmpName = html.slice(lastPos, i);\n      lastPos = i + 1;\n      continue;\n    }\n    if (tmpName !== false) {\n      if (\n        i === lastPos &&\n        (c === '\"' || c === \"'\") &&\n        html.charAt(i - 1) === \"=\"\n      ) {\n        j = html.indexOf(c, i + 1);\n        if (j === -1) {\n          break;\n        } else {\n          v = _.trim(html.slice(lastPos + 1, j));\n          addAttr(tmpName, v);\n          tmpName = false;\n          i = j;\n          lastPos = i + 1;\n          continue;\n        }\n      }\n    }\n    if (/\\s|\\n|\\t/.test(c)) {\n      html = html.replace(/\\s|\\n|\\t/g, \" \");\n      if (tmpName === false) {\n        j = findNextEqual(html, i);\n        if (j === -1) {\n          v = _.trim(html.slice(lastPos, i));\n          addAttr(v);\n          tmpName = false;\n          lastPos = i + 1;\n          continue;\n        } else {\n          i = j - 1;\n          continue;\n        }\n      } else {\n        j = findBeforeEqual(html, i - 1);\n        if (j === -1) {\n          v = _.trim(html.slice(lastPos, i));\n          v = stripQuoteWrap(v);\n          addAttr(tmpName, v);\n          tmpName = false;\n          lastPos = i + 1;\n          continue;\n        } else {\n          continue;\n        }\n      }\n    }\n  }\n\n  if (lastPos < html.length) {\n    if (tmpName === false) {\n      addAttr(html.slice(lastPos));\n    } else {\n      addAttr(tmpName, stripQuoteWrap(_.trim(html.slice(lastPos))));\n    }\n  }\n\n  return _.trim(retAttrs.join(\" \"));\n}\n\nfunction findNextEqual(str, i) {\n  for (; i < str.length; i++) {\n    var c = str[i];\n    if (c === \" \") continue;\n    if (c === \"=\") return i;\n    return -1;\n  }\n}\n\nfunction findBeforeEqual(str, i) {\n  for (; i > 0; i--) {\n    var c = str[i];\n    if (c === \" \") continue;\n    if (c === \"=\") return i;\n    return -1;\n  }\n}\n\nfunction isQuoteWrapString(text) {\n  if (\n    (text[0] === '\"' && text[text.length - 1] === '\"') ||\n    (text[0] === \"'\" && text[text.length - 1] === \"'\")\n  ) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nfunction stripQuoteWrap(text) {\n  if (isQuoteWrapString(text)) {\n    return text.substr(1, text.length - 2);\n  } else {\n    return text;\n  }\n}\n\nexports.parseTag = parseTag;\nexports.parseAttr = parseAttr;\n","module.exports = {\n  indexOf: function(arr, item) {\n    var i, j;\n    if (Array.prototype.indexOf) {\n      return arr.indexOf(item);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      if (arr[i] === item) {\n        return i;\n      }\n    }\n    return -1;\n  },\n  forEach: function(arr, fn, scope) {\n    var i, j;\n    if (Array.prototype.forEach) {\n      return arr.forEach(fn, scope);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      fn.call(scope, arr[i], i, arr);\n    }\n  },\n  trim: function(str) {\n    if (String.prototype.trim) {\n      return str.trim();\n    }\n    return str.replace(/(^\\s*)|(\\s*$)/g, \"\");\n  },\n  spaceIndex: function(str) {\n    var reg = /\\s|\\n|\\t/;\n    var match = reg.exec(str);\n    return match ? match.index : -1;\n  }\n};\n","/**\n * filter xss\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar FilterCSS = require(\"cssfilter\").FilterCSS;\nvar DEFAULT = require(\"./default\");\nvar parser = require(\"./parser\");\nvar parseTag = parser.parseTag;\nvar parseAttr = parser.parseAttr;\nvar _ = require(\"./util\");\n\n/**\n * returns `true` if the input value is `undefined` or `null`\n *\n * @param {Object} obj\n * @return {Boolean}\n */\nfunction isNull(obj) {\n  return obj === undefined || obj === null;\n}\n\n/**\n * get attributes for a tag\n *\n * @param {String} html\n * @return {Object}\n *   - {String} html\n *   - {Boolean} closing\n */\nfunction getAttrs(html) {\n  var i = _.spaceIndex(html);\n  if (i === -1) {\n    return {\n      html: \"\",\n      closing: html[html.length - 2] === \"/\"\n    };\n  }\n  html = _.trim(html.slice(i + 1, -1));\n  var isClosing = html[html.length - 1] === \"/\";\n  if (isClosing) html = _.trim(html.slice(0, -1));\n  return {\n    html: html,\n    closing: isClosing\n  };\n}\n\n/**\n * shallow copy\n *\n * @param {Object} obj\n * @return {Object}\n */\nfunction shallowCopyObject(obj) {\n  var ret = {};\n  for (var i in obj) {\n    ret[i] = obj[i];\n  }\n  return ret;\n}\n\n/**\n * FilterXSS class\n *\n * @param {Object} options\n *        whiteList, onTag, onTagAttr, onIgnoreTag,\n *        onIgnoreTagAttr, safeAttrValue, escapeHtml\n *        stripIgnoreTagBody, allowCommentTag, stripBlankChar\n *        css{whiteList, onAttr, onIgnoreAttr} `css=false` means don't use `cssfilter`\n */\nfunction FilterXSS(options) {\n  options = shallowCopyObject(options || {});\n\n  if (options.stripIgnoreTag) {\n    if (options.onIgnoreTag) {\n      console.error(\n        'Notes: cannot use these two options \"stripIgnoreTag\" and \"onIgnoreTag\" at the same time'\n      );\n    }\n    options.onIgnoreTag = DEFAULT.onIgnoreTagStripAll;\n  }\n\n  options.whiteList = options.whiteList || DEFAULT.whiteList;\n  options.onTag = options.onTag || DEFAULT.onTag;\n  options.onTagAttr = options.onTagAttr || DEFAULT.onTagAttr;\n  options.onIgnoreTag = options.onIgnoreTag || DEFAULT.onIgnoreTag;\n  options.onIgnoreTagAttr = options.onIgnoreTagAttr || DEFAULT.onIgnoreTagAttr;\n  options.safeAttrValue = options.safeAttrValue || DEFAULT.safeAttrValue;\n  options.escapeHtml = options.escapeHtml || DEFAULT.escapeHtml;\n  this.options = options;\n\n  if (options.css === false) {\n    this.cssFilter = false;\n  } else {\n    options.css = options.css || {};\n    this.cssFilter = new FilterCSS(options.css);\n  }\n}\n\n/**\n * start process and returns result\n *\n * @param {String} html\n * @return {String}\n */\nFilterXSS.prototype.process = function(html) {\n  // compatible with the input\n  html = html || \"\";\n  html = html.toString();\n  if (!html) return \"\";\n\n  var me = this;\n  var options = me.options;\n  var whiteList = options.whiteList;\n  var onTag = options.onTag;\n  var onIgnoreTag = options.onIgnoreTag;\n  var onTagAttr = options.onTagAttr;\n  var onIgnoreTagAttr = options.onIgnoreTagAttr;\n  var safeAttrValue = options.safeAttrValue;\n  var escapeHtml = options.escapeHtml;\n  var cssFilter = me.cssFilter;\n\n  // remove invisible characters\n  if (options.stripBlankChar) {\n    html = DEFAULT.stripBlankChar(html);\n  }\n\n  // remove html comments\n  if (!options.allowCommentTag) {\n    html = DEFAULT.stripCommentTag(html);\n  }\n\n  // if enable stripIgnoreTagBody\n  var stripIgnoreTagBody = false;\n  if (options.stripIgnoreTagBody) {\n    var stripIgnoreTagBody = DEFAULT.StripTagBody(\n      options.stripIgnoreTagBody,\n      onIgnoreTag\n    );\n    onIgnoreTag = stripIgnoreTagBody.onIgnoreTag;\n  }\n\n  var retHtml = parseTag(\n    html,\n    function(sourcePosition, position, tag, html, isClosing) {\n      var info = {\n        sourcePosition: sourcePosition,\n        position: position,\n        isClosing: isClosing,\n        isWhite: whiteList.hasOwnProperty(tag)\n      };\n\n      // call `onTag()`\n      var ret = onTag(tag, html, info);\n      if (!isNull(ret)) return ret;\n\n      if (info.isWhite) {\n        if (info.isClosing) {\n          return \"</\" + tag + \">\";\n        }\n\n        var attrs = getAttrs(html);\n        var whiteAttrList = whiteList[tag];\n        var attrsHtml = parseAttr(attrs.html, function(name, value) {\n          // call `onTagAttr()`\n          var isWhiteAttr = _.indexOf(whiteAttrList, name) !== -1;\n          var ret = onTagAttr(tag, name, value, isWhiteAttr);\n          if (!isNull(ret)) return ret;\n\n          if (isWhiteAttr) {\n            // call `safeAttrValue()`\n            value = safeAttrValue(tag, name, value, cssFilter);\n            if (value) {\n              return name + '=\"' + value + '\"';\n            } else {\n              return name;\n            }\n          } else {\n            // call `onIgnoreTagAttr()`\n            var ret = onIgnoreTagAttr(tag, name, value, isWhiteAttr);\n            if (!isNull(ret)) return ret;\n            return;\n          }\n        });\n\n        // build new tag html\n        var html = \"<\" + tag;\n        if (attrsHtml) html += \" \" + attrsHtml;\n        if (attrs.closing) html += \" /\";\n        html += \">\";\n        return html;\n      } else {\n        // call `onIgnoreTag()`\n        var ret = onIgnoreTag(tag, html, info);\n        if (!isNull(ret)) return ret;\n        return escapeHtml(html);\n      }\n    },\n    escapeHtml\n  );\n\n  // if enable stripIgnoreTagBody\n  if (stripIgnoreTagBody) {\n    retHtml = stripIgnoreTagBody.remove(retHtml);\n  }\n\n  return retHtml;\n};\n\nmodule.exports = FilterXSS;\n","module.exports = require(\"@limio/design-system\");","module.exports = require(\"@limio/sdk\");","module.exports = require(\"ramda\");","module.exports = require(\"react\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// @flow\nimport React, { useState } from \"react\"\nimport { useLimio } from \"@limio/sdk\"\nimport { PriceCard } from \"./components/PriceCard\"\nimport { Alert } from \"@limio/design-system\"\nimport { getCookie } from \"@i42/shared/src/helpers\"\nimport { groupOffers, filterTrials } from \"@i42/shared/src/shop/offers/helpers\"\nimport MobileOffers from \"./components/MobileOffers\"\nimport * as R from \"ramda\"\nimport * as qs from \"query-string\"\nimport \"./index.css\"\n\nexport const Offers = props => {\n  const LimioPageContext = useLimio()\n  const offerEligibility = getCookie(\"limio-invalid\")\n\n  const { shop: shopContext } = LimioPageContext\n  const { offers = [], groups = [] } = shopContext\n\n  const offerItems = filterTrials(offers, offerEligibility.includes(\"trial\"))\n  const offerGroups = groupOffers(offerItems, groups)\n\n  const [useTransform, setUseTransform] = useState(true)\n  const [showTrialAlert, setShowTrialAlert] = useState(offerEligibility.includes(\"trial\"))\n\n  let redirect_url = \"\"\n  if (typeof window !== undefined) {\n    const search = qs.parse(window?.location?.search)\n    redirect_url = search[\"redirect_url\"] || \"\"\n  }\n\n  const renderPriceCards = groupItems => {\n    if (!offerItems.length || (props.splitByGroups && !groupItems)) {\n      return <div className=\"no-offers mb-5\">No offers to display...</div>\n    }\n\n    return (groupItems || offerItems).map((item, index) => {\n      const { trial__limio, sales_channel__limio } = item.data.attributes\n\n      if (trial__limio && offerEligibility.includes(\"trial\")) {\n        return\n      }\n\n      return (\n        <PriceCard\n          endpoint={props.endpoint}\n          key={item.path + index}\n          item={item}\n          inBasket={!!LimioPageContext?.shop?.basketItems?.find(basketItem => basketItem?.offer?.path === item.path && basketItem?.offer?.id === item.id)} // @TODO: Tidy this\n          primaryColor={props.primaryColor__limio_color}\n          offerOverflowLayout={props.offerOverflowLayout}\n          removeFromBasket={item => LimioPageContext.shop.removeFromBasket(item)}\n          imageShape={props.imageShape}\n          imagePosition={props.imagePosition}\n          showAllImages={props.showAllImages}\n          showLearnMore={props.showLearnMore}\n          shadow={props.shadow}\n          border={props.border}\n          roundCorners={props.roundCorners}\n          learnMoreText={props.learnMoreText}\n          setUseTransform={setUseTransform}\n          useTransform={props.mobileSwipe ? useTransform : false}\n          invertCTA={props.invertCTA}\n          thumbnailPosition={props.thumbnailPosition}\n          productSelectText={props.productSelectText}\n          offerWidth={props.offerWidth}\n          removeText={props.removeText}\n          redirectUrl={redirect_url}\n        />\n      )\n    })\n  }\n\n  return (\n    <div id={props.componentId || \"offers-component\"} className=\"offers py-2 container-fluid\">\n      <Alert\n        color=\"info\"\n        variant={\"warning\"}\n        isOpen={showTrialAlert}\n        toggle={() => setShowTrialAlert(false)}\n        text={props.ineligibleMessage}\n        style={{ margin: \"1em\" }}\n      >\n        {props.ineligibleMessage}\n      </Alert>\n      <div className=\"container mb-2\">\n        {props.splitByGroups ? (\n          offerGroups ? (\n            offerGroups.map(({ id: groupName, label: groupLabel, offer: groupItems }) => (\n              <div className=\"offer-group-container\" key={groupName}>\n                <h2 className=\"offer-group-heading\">{groupLabel}</h2>\n                <>\n                  <div className={`offer-container card-deck mt-4 text-center ${props.layout}`} style={{ alignItems: props.offerOverflowLayout }}>\n                    {renderPriceCards(groupItems)}\n                  </div>\n                  <MobileOffers items={groupItems} {...props}>\n                    {renderPriceCards(groupItems)}\n                  </MobileOffers>\n                </>\n              </div>\n            ))\n          ) : (\n            <>\n              <div className={`offer-container card-deck mt-4 text-center ${props.layout}`} style={{ alignItems: props.offerOverflowLayout }}>\n                <div className=\"no-offers mb-5\">No offers to display...</div>\n              </div>\n              <div className={`offer-container mobile card-deck mt-4 text-center ${props.layout}`} style={{ alignItems: props.offerOverflowLayout }}>\n                <div className=\"no-offers mb-5\">No offers to display...</div>\n              </div>\n            </>\n          )\n        ) : (\n          <>\n            <div className={`offer-container card-deck mt-5 text-center ${props.layout}`} style={{ alignItems: props.offerOverflowLayout }}>\n              {renderPriceCards()}\n            </div>\n            <MobileOffers items={offerItems} {...props}>\n              {renderPriceCards()}\n            </MobileOffers>\n          </>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default Offers\n"],"names":["_cookie","require","getCookie","name","cookie","document","cookiesString","getCookieValue","undefined","cookies","parse","R","xss","sortOffers","offersIn","sorting","offers","sort","a","b","path","any","offer","data","attributes","sales_channel__limio","filter","isNil","includes","firstPrice","secondPrice","parseFloat","sortOffers2","offersMetadata","offerListFromMetadata","map","find","Boolean","displayOrder","uniq","filterTrials","filterTrial","hidden","trial__limio","groupOffers","groupLabels","groups","groupBy","groupedOffers","Object","keys","groupId","id","label","x","sanitizeString","string","xssOptions","whitelist","stripIgnoreTag","stripIgnoreTagBody","getDiscountedPrice","discount","nextSchedule","amount","value","toFixed","React","useLimio","Quantity","AddToBasketButton","item","primaryColor","inBasket","invertCTA","quantity","setQuantity","addToBasket","selection","removeText","LimioPageContext","checkout__limio","checkout_type","allow_multibuy__limio","color","borderColor","backgroundColor","cta_text__limio","shop","removeFromBasket","shopUrl","useState","MobileOffers","items","mobileArrows","mobileArrowsColor","mobileSwipe","useTransform","children","layout","offerOverflowLayout","offerIndex","setOfferIndex","position","setPosition","startX","startY","currentX","threshold","offerBack","length","offerForward","handleNext","new_index","handleBack","touchStart","e","touchObj","touches","clientX","clientY","touchMove","touchEnd","Math","abs","mobileStyle","transform","alignItems","index","JSON","stringify","useEffect","useRef","MoreInfo","props","currentImage","setCurrentImage","attachments","onClose","ref","escHandler","key","window","addEventListener","removeEventListener","useOutsideClick","callback","handleClick","current","contains","target","className","backgroundImage","endpoint","encodeURI","url","attachment","display_name__limio","__html","display_price__limio","redirectUrl","minHeight","description","offer_features__limio","OfferImage","showAllImages","imageShape","thumbnailPosition","showArrows","displayProducts","productString","display","flexDirection","PriceCard","setUseTransform","itemData","type","hasAttachments","showMoreInfo","setShowMoreInfo","setSelection","push_to_checkout__limio","priceCardStyle","textAlign","maxWidth","offerWidth","minWidth","border","buttonColor","productSelectText","shadow","roundCorners","imagePosition","detailed_display_price__limio","showLearnMore","learnMoreText","Dropdown","DropdownToggle","DropdownMenu","DropdownItem","isOpen","setIsOpen","quantities","quant","Alert","qs","Offers","offerEligibility","shopContext","offerItems","offerGroups","showTrialAlert","setShowTrialAlert","redirect_url","search","location","renderPriceCards","groupItems","splitByGroups","basketItems","basketItem","primaryColor__limio_color","componentId","ineligibleMessage","margin","groupName","groupLabel"],"sourceRoot":""}